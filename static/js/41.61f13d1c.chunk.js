(this.webpackJsonpInvmogul=this.webpackJsonpInvmogul||[]).push([[41],{1047:function(t,e,a){"use strict";a.r(e);var s=a(18),c=a(17),n=a(9),i=(a(1255),a(371)),r=a(1218),l=a(1214),o=a(15),d=a(0),j=a(72),u=a(141),b=(a(374),a(233)),h=a(105),O=a(77),p=a(57),x=a(43),f=a(62),g=a(194),m=a(1274),S=a(125),D=a(285),T=a.n(D),L=a(2),y=["classes"],A={fetchAllProducts:h.d,fetchAllNSTransactions:O.e,fetchAllTCTransactions:x.e,fetchAllCSTransactions:p.e,fetchAllTransactionDetails:O.d,fetchAllCSTransactionDetails:p.d,fetchAllTCTransactionDetails:x.d,fetchAllExpenses:g.d,fetchAllCompanyData:S.d},C=Object(j.b)((function(t){return{productsList:t.products.list,creditSalesList:t.creditSale.list,tcTransactionsList:t.trucks_cadetes.list,nSTransactionDeatail:t.cash.list,salesList:t.cashSale.list,cSaleDetailsList:t.credit.list,tcTransDetailsList:t.trucks.list,expensesList:t.expenses.list,companyDataList:t.companyData.list}}),A)(Object(o.a)((function(t){return{root:{"& .MuiTableCell-head":{fontSize:"0.95rem"}},paper:{margin:t.spacing(-8.9),padding:t.spacing(6)},grid:{paddingLeft:t.spacing(2)},td:{textIndent:"50px"},tr:{backgroundColor:"primary",color:"white"}}}))((function(t){var e=t.classes,a=Object(n.a)(t,y),s=a.cSaleList.reduce((function(t,e){return t+e.totalPrice}),0),c=(a.cSaleList.reduce((function(t,e){return t+e.deposit}),0),a.cSaleList.reduce((function(t,e){return t+e.total}),0)),i=a.cSaleList.reduce((function(t,e){return t+e.quantity}),0),r=Object(d.useRef)();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(T.a,{trigger:function(){return Object(L.jsx)(f.a.Button,{text:"Print",variant:"outlined",className:e.newButton})},content:function(){return r.current}}),Object(L.jsx)("div",{children:Object(L.jsxs)("div",{ref:r,className:"p-5",children:[Object(L.jsxs)("header",{children:[Object(L.jsxs)("div",{className:"logo",children:[Object(L.jsx)("img",{src:a.companyDataList[0].logo,alt:"generic business logo",height:100,width:100,style:{marginTop:50}}),Object(L.jsx)("h5",{children:a.companyDataList[0].name})]}),Object(L.jsxs)("div",{className:"invoiceNbr",children:["ALL CREDIT SALES REPORT",Object(L.jsx)("br",{}),Object(L.jsxs)("h5",{children:[" For the period: ",a.dateR]})]})]}),Object(L.jsx)("section",{children:Object(L.jsxs)("table",{class:"table  .table-responsive{-sm|-md|-lg|-xl|-xxl} table-bordered table-hover table-sm table-striped",children:[Object(L.jsx)("thead",{class:"table-dark",children:Object(L.jsxs)("tr",{children:[Object(L.jsx)("th",{scope:"col",children:"Product Name"}),Object(L.jsx)("th",{scope:"col",children:"Quantity"}),Object(L.jsx)("th",{scope:"col",children:"Unit Price"}),Object(L.jsx)("th",{scope:"col",children:"Total Price"}),Object(L.jsx)("th",{scope:"col",children:"Total"})]})}),Object(L.jsxs)("tbody",{children:[a.cSaleList.map((function(t,a){return Object(L.jsxs)("tr",{hover:!0,children:[Object(L.jsx)("td",{className:e.td,children:t.prodName}),Object(L.jsx)("td",{children:t.quantity}),Object(L.jsx)("td",{children:t.unitPrice}),Object(L.jsx)("td",{children:t.totalPrice}),Object(L.jsx)("td",{children:t.total})]},a)})),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{}),Object(L.jsx)("td",{className:e.td}),Object(L.jsx)("td",{}),Object(L.jsx)("td",{}),Object(L.jsx)("td",{}),Object(L.jsx)("td",{})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:"Totals"}),Object(L.jsx)("td",{children:i}),Object(L.jsx)("td",{}),Object(L.jsx)("td",{children:s}),Object(L.jsx)("td",{children:c})]})]})]})})]})})]})}))),w=["classes"],N={fetchAllProducts:h.d,fetchAllNSTransactions:O.e,fetchAllTCTransactions:x.e,fetchAllCSTransactions:p.e,fetchAllTransactionDetails:O.d,fetchAllCSTransactionDetails:p.d,fetchAllTCTransactionDetails:x.d,fetchAllExpenses:g.d,fetchAllCompanyData:S.d};e.default=Object(j.b)((function(t){return{productsList:t.products.list,creditSalesList:t.creditSale.list,tcTransactionsList:t.trucks_cadetes.list,nSTransactionDetail:t.cash.list,salesList:t.cashSale.list,cSaleDetailsList:t.credit.list,tcTransDetailsList:t.trucks.list,expensesList:t.expenses.list,companyDataList:t.companyData.list}}),N)(Object(o.a)((function(t){return{root:{"& .MuiTableCell-head":{fontSize:"0.95rem"}},paper:{margin:t.spacing(-8.9),padding:t.spacing(6)},grid:{paddingLeft:t.spacing(2)},td:{textIndent:"50px"},tr:{backgroundColor:"primary",color:"white"}}}))((function(t){var e=t.classes,a=Object(n.a)(t,w),o=(Object(u.useToasts)().addToast,Object(d.useState)(0)),j=Object(c.a)(o,2),h=j[0],O=j[1],p=Object(d.useState)(!1),x=Object(c.a)(p,2),g=x[0],S=x[1],T=Object(d.useState)([{}]),y=Object(c.a)(T,2),A=y[0],N=y[1],P=Object(d.useState)([]),v=Object(c.a)(P,2),I=(v[0],v[1],Object(d.useState)([])),E=Object(c.a)(I,2),k=E[0],R=E[1],M=Object(d.useState)(null),q=Object(c.a)(M,2),F=q[0],Y=q[1],B=Object(d.useState)(""),z=Object(c.a)(B,2),J=z[0],_=z[1],Q=Object(d.useState)(!1),U=Object(c.a)(Q,2),G=U[0],H=U[1],K=Object(d.useRef)(),V=Object(d.useState)([]),W=Object(c.a)(V,2),X=W[0],Z=W[1],$=Object(d.useState)([{}]),tt=Object(c.a)($,2),et=tt[0],at=tt[1],st=Object(d.useState)([{}]),ct=Object(c.a)(st,2),nt=ct[0],it=ct[1],rt="",lt=new Date,ot=String(lt.getDate()).padStart(2,"0"),dt=String(lt.getMonth()+1).padStart(2,"0"),jt=lt.getFullYear();lt=jt+"-"+dt+"-"+ot,Object(d.useEffect)((function(){a.fetchAllProducts(),a.fetchAllNSTransactions(),a.fetchAllTCTransactions(),a.fetchAllCSTransactions(),a.fetchAllTransactionDetails(),a.fetchAllCSTransactionDetails(),a.fetchAllTCTransactionDetails(),a.fetchAllExpenses(),a.fetchAllCompanyData()}),[]);new Date(new Date((new Date).getFullYear(),(new Date).getMonth(),ot)),new Date(new Date((new Date).getFullYear(),(new Date).getMonth()+1,ot)),new Date(new Date((new Date).getFullYear(),(new Date).getMonth(),8));var ut=new Date(new Date((new Date).getFullYear(),(new Date).getMonth(),ot));Object(D.useReactToPrint)({content:function(){return K.current}});return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(i.a,{className:e.paper,elevation:3,children:Object(L.jsxs)(r.a,{container:!0,children:[Object(L.jsxs)(r.a,{item:!0,xs:12,children:[Object(L.jsxs)(l.a,{children:[Object(L.jsx)(m.a,{placeholder:"Enter Date Range",max:ut,format:"yyyy-MM-dd",start:"Year",date:"Year",change:function(t){rt=t.text,Y(rt)}}),Object(L.jsx)(f.a.Button,{text:"Load ",variant:"outlined",className:e.newButton,onClick:function(){!function(){try{var t=a.creditSalesList.filter((function(t){return t.dateIn.toString().substring(0,10)>=F.toString().substring(0,10)&&t.dateIn.toString().substring(0,10)<=F.toString().substring(13,23)&&"0001-01-01T00:00:00"==t.datePaid.toString()})),e="",c=[],n=[];t.forEach((function(t){e=t.transCode,a.cSaleDetailsList.filter((function(t){return t.transCode==e})).forEach((function(t){var e=t.productId,i=a.productsList.find((function(t){return t.productId==e}));i.buyingPrice,t.quantity;var r={productId:i.productId,prodName:i.name,quantity:t.quantity,unitPrice:i.sellingPrice,totalPrice:t.totalPrice,deposit:t.deposit,total:t.total};n=[].concat(Object(s.a)(c),[r]),c=n}))}));var i=[];n.forEach((function(t){this[t.prodName]||this[t.date]||(this[t.prodName]={date:t.date,prodName:t.prodName,quantity:0,unitPrice:t.unitPrice,totalPrice:0,deposit:0,total:0},i.push(this[t.prodName])),this[t.prodName].quantity+=t.quantity,this[t.prodName].totalPrice+=t.totalPrice,this[t.prodName].deposit+=t.deposit,this[t.prodName].total+=t.total}),Object.create(null)),at(i),_(a.companyDataList)}catch(r){console.log(r.message)}}(),H(!0)}})]}),Object(L.jsx)(l.a,{})]}),Object(L.jsx)(r.a,{}),Object(L.jsx)(r.a,{item:!0,xs:12,children:Object(L.jsx)("div",{children:!0===G&&Object(L.jsx)(C,{currentId:h,setCurrentId:O,plList:A,setPlList:N,expD:k,setExpD:R,dateR:F,setDateR:Y,compD:J,setCompD:_,nSaleList:X,setNSaleList:Z,cSaleList:et,setCSaleList:at,cTSales:nt,setCTSales:it})})})]})}),Object(L.jsx)(b.a,{title:"Are you sure you want to delete this record?",subTitle:"This operation can't be reversed",confirmDialog:g,setConfirmDialog:S})]})})))},1255:function(t,e,a){}}]);
//# sourceMappingURL=41.61f13d1c.chunk.js.map