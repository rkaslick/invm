(this.webpackJsonpInvmogul=this.webpackJsonpInvmogul||[]).push([[34,63],{1034:function(e,t,c){"use strict";c.r(t);var a=c(17),s=c(9),n=c(371),r=c(1214),i=c(1215),o=c(1217),l=c(952),d=c(953),u=c(15),j=c(0),b=c(123),h=c(971),f=c(72),p=c(378),O=c(62),m=c(1216),v=c(964),x=c.n(v),g=c(374),N=c(1226),y=c.n(N),C=c(647),V=c(379),w=c.n(V),I=c(965),L=c.n(I),S=c(141),A=c(236),T=c(233),z=c(2),P=["classes"],M=[{id:"regNo",label:"No.Plate"},{id:"description",label:"Description"},{id:"Actions",label:"Actions",disableSorting:!0}],D={fetchAllVehicles:b.d,DeleteVehicle:b.b};t.default=Object(f.b)((function(e){return{vehiclesList:e.vehicles.list}}),D)(Object(u.a)((function(e){return{paper:{margin:e.spacing(-8.9),padding:e.spacing(6)},searchInput:{width:"75%"},newButton:{position:"absolute",right:"10px "}}}))((function(e){var t=e.classes,c=Object(s.a)(e,P),u=Object(j.useState)({fn:function(e){return e}}),b=Object(a.a)(u,2),f=b[0],v=b[1],N=Object(j.useState)(!1),V=Object(a.a)(N,2),I=V[0],D=V[1],E=Object(j.useState)(0),k=Object(a.a)(E,2),F=k[0],H=k[1],_=Object(S.useToasts)().addToast,B=Object(j.useState)({isOpen:!1,message:"",type:""}),R=B.notify,q=B.setNotify,J=Object(j.useState)(!1),W=Object(a.a)(J,2),G=W[0],K=W[1],Q=Object(j.useState)(!1),U=Object(a.a)(Q,2),X=(U[0],U[1],function(){_("Record was deleted succesffuly",{appearance:"error"}),_("Record was deleted succesffuly",{appearance:"error"}),_("Record was deleted succesffuly",{appearance:"error"})});Object(j.useEffect)((function(){c.fetchAllVehicles()}),[]);var Y=Object(p.a)(c.vehiclesList,M,f),Z=Y.TblContainer,$=Y.TblHead,ee=Y.TblPagination,te=Y.recordsAfterPagingAndSorting;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(g.a,{title:"Vehicles List",icon:Object(z.jsx)(y.a,{fontSize:"large"})}),",",Object(z.jsxs)(n.a,{className:t.paper,elevation:3,children:[Object(z.jsxs)(r.a,{children:[Object(z.jsx)(O.a.Input,{className:t.searchInput,label:"Search for vehicle",InputProps:{startAdornment:Object(z.jsx)(i.a,{position:"start",children:Object(z.jsx)(m.a,{})})},onChange:function(e){var t=e.target;v({fn:function(e){return""==t.value?e:e.filter((function(e){return e.regNo.toLowerCase().includes(t.value.toLowerCase())+e.description.toLowerCase().includes(t.value.toLowerCase())}))}})}}),Object(z.jsx)(O.a.Button,{text:"Add New",variant:"outlined",startIcon:Object(z.jsx)(x.a,{}),className:t.newButton,onClick:function(){D(!0),H(0)}})]}),Object(z.jsxs)("table",{class:"table .table-responsive{-sm|-md|-lg|-xl|-xxl} table-hover ",children:[Object(z.jsx)("thead",{}),Object(z.jsx)("tbody",{children:Object(z.jsxs)(Z,{children:[Object(z.jsx)($,{}),Object(z.jsx)(o.a,{children:te().map((function(e,t){return Object(z.jsxs)(l.a,{hover:!0,children:[Object(z.jsx)(d.a,{children:e.regNo}),Object(z.jsx)(d.a,{children:e.description}),Object(z.jsxs)(d.a,{children:[Object(z.jsx)(O.a.ActionButton,{color:"primary",onClick:function(){!function(e){H(e),D(!0)}(e.regNo)},children:Object(z.jsx)(w.a,{fontSize:"small"})}),Object(z.jsx)(O.a.ActionButton,{color:"secondary",onClick:function(){K(!0),K({onConfirm:function(){var t;t=e.regNo,c.DeleteVehicle(t,X),K(!1)}})},children:Object(z.jsx)(L.a,{fontSize:"small"})})]})]},t)}))})]})})]}),Object(z.jsx)(ee,{})]}),Object(z.jsx)(C.a,{title:"Category Form",openPopup:I,setOpenPopup:D,children:Object(z.jsx)(h.default,{currentId:F,setCurrentId:H,setOpenPopup:D})}),Object(z.jsx)(A.a,{notify:R,setNotify:q}),Object(z.jsx)(T.a,{title:"Are you sure you want to delete this record?",subTitle:"This operation can't be reversed",confirmDialog:G,setConfirmDialog:K})]})})))},1226:function(e,t,c){"use strict";var a=c(165),s=c(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(c(0)),r=(0,a(c(167)).default)(n.createElement(n.Fragment,null,n.createElement("circle",{cx:"17.5",cy:"17.5",r:"2.5",opacity:".3"}),n.createElement("path",{d:"M5 15.5h4v4H5zm7-9.66L10.07 9h3.86z",opacity:".3"}),n.createElement("path",{d:"M12 2l-5.5 9h11L12 2zm0 3.84L13.93 9h-3.87L12 5.84zM17.5 13c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 7c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM11 13.5H3v8h8v-8zm-2 6H5v-4h4v4z"})),"CategoryTwoTone");t.default=r},964:function(e,t,c){"use strict";var a=c(165),s=c(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(c(0)),r=(0,a(c(167)).default)(n.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=r},965:function(e,t,c){"use strict";var a=c(165),s=c(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(c(0)),r=(0,a(c(167)).default)(n.createElement("path",{d:"M6 21h12V7H6v14zm2.46-9.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteForeverSharp");t.default=r},971:function(e,t,c){"use strict";c.r(t);var a=c(4),s=c(17),n=c(9),r=c(0),i=c(1206),o=c(15),l=c(235),d=c(72),u=c(123),j=c(141),b=(c(646),c(382),c(381)),h=c(2),f=["classes"],p={regNo:"",description:""},O={createVehicle:u.c,updateVehicle:u.e,fetchAllVehicles:u.d};t.default=Object(d.b)((function(e){return{vehiclesList:e.vehicles.list}}),O)(Object(o.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),minWidth:230}},formControl:{margin:e.spacing(1),minWidth:230},smMargin:{margin:e.spacing(1)}}}))((function(e){var t=e.classes,c=Object(n.a)(e,f),o=Object(j.useToasts)().addToast,d=Object(r.useState)(!1),u=Object(s.a)(d,2),O=(u[0],u[1],Object(r.useState)(!1)),m=Object(s.a)(O,2),v=m[0],x=m[1],g=Object(r.useState)(""),N=Object(s.a)(g,2),y=N[0],C=N[1],V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=Object(a.a)({},A);if("regNo"in e&&(t.regNo=e.regNo?"":"This field is required"),"description"in e&&(t.description=e.description?"":"This field is required"),T(Object(a.a)({},t)),e==L)return Object.values(t).every((function(e){return""==e}))},w=Object(l.a)(p,V,c.setCurrentId),I=Object(s.a)(w,6),L=I[0],S=I[1],A=I[2],T=I[3],z=I[4],P=I[5];return Object(r.useEffect)((function(){0!=c.currentId&&S(Object(a.a)({},c.vehiclesList.find((function(e){return e.regNo==c.currentId})))),T({}),c.fetchAllVehicles()}),[c.currentId]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("section",{className:"content",children:Object(h.jsx)("div",{className:"container-fluid",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md-12",children:Object(h.jsxs)("div",{className:"card card-primary",children:[Object(h.jsx)("div",{className:"card-header",children:Object(h.jsxs)("h4",{className:"card-title",children:["Add Vehicles ",Object(h.jsx)("small",{children:" "})]})}),Object(h.jsxs)("form",{id:"quickForm",autoComplete:"off",noValidate:!0,className:t.root,onSubmit:function(e){if(e.preventDefault(),V()){var t=function(){o("Vehicle data saved succeffuly",{appearance:"success"}),o("Vehicle data saved succeffuly",{appearance:"success"}),o("Vehicle data saved succeffuly",{appearance:"success"}),c.fetchAllVehicles(),P()};0==c.currentId?c.createVehicle(L,t):L.regNo==c.currentId?c.updateVehicle(c.currentId,L,t):(console.log("No Plate cannot be updated. It may be associated with Many transactions"),C("Vehicle No.Plate cannot be updated. It may be associated with Many transactions."),x(!0),x({onConfirm:function(){}}),P()),1==c.openPopup&&c.setOpenPopup(!1)}},children:[Object(h.jsx)(i.a,Object(a.a)({className:"form-ctr",id:"standard-basic",type:"text",name:"regNo",label:"Number Plate",value:L.regNo,onChange:z},A.regNo&&{error:!0,helperText:A.regNo})),Object(h.jsx)(i.a,Object(a.a)({className:"form-ctr",name:"description",label:"Description",value:L.description,onChange:z},A.description&&{error:!0,helperText:A.description})),Object(h.jsx)("div",{className:"card-footer",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"}),Object(h.jsx)("button",{variant:"contained",className:"btn btn-secondary",onClick:P,style:{marginLeft:3},children:"Reset"})]})})]})]})}),Object(h.jsx)("div",{className:"col-md-6"})]})})}),Object(h.jsx)(b.a,{title:y,errorDialog:v,setErrorDialog:x})]})})))}}]);
//# sourceMappingURL=34.c81f55d8.chunk.js.map