(this.webpackJsonpInvmogul=this.webpackJsonpInvmogul||[]).push([[31,59],{1027:function(e,t,r){"use strict";r.r(t);var a=r(4),c=r(17),i=r(9),n=r(371),o=r(1228),s=r(1213),d=r(15),l=r(0),u=r(72),p=r(105),b=r(101),j=r(147),h=r(91),f=r(979),O=r(644),m=r.n(O),g=r(141),v=r(1230),x=r.n(v),I=r(374),y=r(233),S=r(2),P=["classes"],k={fetchAllStockIn:h.d,deleteStockIn:h.b,fetchAllProducts:p.d,fetchAllStoreProducts:b.c,fetchAllSuppliers:j.d};t.default=Object(u.b)((function(e){return{stockInList:e.stockIns.list,productsList:e.products.list,storeProductsList:e.storeProducts.list,suppliersList:e.suppliers.list}}),k)(Object(d.a)((function(e){return{root:{"& .MuiTableCell-head":{fontSize:"0.95rem"}},paper:{margin:e.spacing(-8.9),padding:e.spacing(6)},grid:{paddingLeft:e.spacing(2)}}}))((function(e){var t=e.classes,r=Object(i.a)(e,P),d=Object(g.useToasts)().addToast,u=Object(l.useState)(0),p=Object(c.a)(u,2),b=(p[0],p[1],Object(l.useState)(!1)),j=Object(c.a)(b,2),h=j[0],O=j[1],v=Object(l.useState)(0),k=Object(c.a)(v,2),C=k[0],L=k[1];Object(l.useEffect)((function(){r.fetchAllStockIn(),r.fetchAllStoreProducts(),r.fetchAllSuppliers()}),[]);var N=function(){d("Record was deleted succesffuly",{appearance:"error"}),d("Record was deleted succesffuly",{appearance:"error"}),d("Record was deleted succesffuly",{appearance:"error"}),r.fetchAllStockIn(),r.fetchAllProducts()},T=function(e){var t=Object(a.a)({},r.suppliersList.find((function(t){return t.id==e})));return console.log(t),t.name},w=Object(l.useState)({key:null,direction:"ascending"}),z=Object(c.a)(w,2),R=z[0],A=z[1],H=function(e){var t="ascending";R.key===e&&"ascending"===R.direction&&(t="descending"),A({key:e,direction:t})},q=r.stockInList.sort((function(e,t){return R.key&&e[R.key]&&t[R.key]?"ascending"===R.direction?e[R.key].localeCompare(t[R.key]):t[R.key].localeCompare(e[R.key]):0}));return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(I.a,{title:"StockIn",icon:Object(S.jsx)(x.a,{fontSize:"large"})}),",",Object(S.jsxs)(n.a,{className:t.paper,elevation:3,children:[Object(S.jsx)(f.default,{currentId:C,setCurrentId:L}),Object(S.jsx)("div",{className:t.grid,children:Object(S.jsxs)("table",{className:"table table-bordered table-hover table-sm table-striped",children:[Object(S.jsx)("thead",{className:"thead-dark",children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{onClick:function(){return H("dateIn")},children:"Date In"}),Object(S.jsx)("th",{onClick:function(){return H("productId")},children:"Product Id"}),Object(S.jsx)("th",{children:"Supplier"}),Object(S.jsx)("th",{children:"Product Name"}),Object(S.jsx)("th",{onClick:function(){return H("quantity")},children:"Quantity"}),Object(S.jsx)("th",{})]})}),Object(S.jsx)("tbody",{children:q.map((function(e,t){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e.dateIn}),Object(S.jsx)("td",{children:e.productId}),Object(S.jsx)("td",{children:T(e.supplierId)}),Object(S.jsx)("td",{children:(c=e.productId,Object(a.a)({},r.productsList.find((function(e){return e.productId==c}))).name)}),Object(S.jsx)("td",{children:e.quantity}),Object(S.jsx)("td",{children:Object(S.jsx)(o.a,{variant:"text",children:Object(S.jsx)(s.a,{children:Object(S.jsx)(m.a,{color:"secondary",onClick:function(){O(!0),O({onConfirm:function(){var t;t=e.id,r.deleteStockIn(parseInt(t),N),O(!1),console.log(t)}})}})})})})]},t);var c}))})]})})]}),Object(S.jsx)(y.a,{title:"Are you sure you want to delete this record?",subTitle:"This operation can't be reversed",confirmDialog:h,setConfirmDialog:O})]})})))},1228:function(e,t,r){"use strict";var a=r(3),c=r(9),i=r(0),n=(r(195),r(11)),o=r(24),s=r(29),d=r(15);r(1213).a.styles;var l=i.forwardRef((function(e,t){var r=e.children,s=e.classes,d=e.className,l=e.color,u=void 0===l?"default":l,p=e.component,b=void 0===p?"div":p,j=e.disabled,h=void 0!==j&&j,f=e.disableElevation,O=void 0!==f&&f,m=e.disableFocusRipple,g=void 0!==m&&m,v=e.disableRipple,x=void 0!==v&&v,I=e.fullWidth,y=void 0!==I&&I,S=e.orientation,P=void 0===S?"horizontal":S,k=e.size,C=void 0===k?"medium":k,L=e.variant,N=void 0===L?"outlined":L,T=Object(c.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"]),w=Object(n.a)(s.grouped,s["grouped".concat(Object(o.a)(P))],s["grouped".concat(Object(o.a)(N))],s["grouped".concat(Object(o.a)(N)).concat(Object(o.a)(P))],s["grouped".concat(Object(o.a)(N)).concat("default"!==u?Object(o.a)(u):"")],h&&s.disabled);return i.createElement(b,Object(a.a)({role:"group",className:Object(n.a)(s.root,d,y&&s.fullWidth,O&&s.disableElevation,"contained"===N&&s.contained,"vertical"===P&&s.vertical),ref:t},T),i.Children.map(r,(function(e){return i.isValidElement(e)?i.cloneElement(e,{className:Object(n.a)(w,e.props.className),color:e.props.color||u,disabled:e.props.disabled||h,disableElevation:e.props.disableElevation||O,disableFocusRipple:g,disableRipple:x,fullWidth:y,size:e.props.size||C,variant:e.props.variant||N}):null})))}));t.a=Object(d.a)((function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},contained:{boxShadow:e.shadows[2]},disableElevation:{boxShadow:"none"},disabled:{},fullWidth:{width:"100%"},vertical:{flexDirection:"column"},grouped:{minWidth:40},groupedHorizontal:{"&:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{borderTopRightRadius:0,borderTopLeftRadius:0},"&:not(:last-child)":{borderBottomRightRadius:0,borderBottomLeftRadius:0}},groupedText:{},groupedTextHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextPrimary:{"&:not(:last-child)":{borderColor:Object(s.a)(e.palette.primary.main,.5)}},groupedTextSecondary:{"&:not(:last-child)":{borderColor:Object(s.a)(e.palette.secondary.main,.5)}},groupedOutlined:{},groupedOutlinedHorizontal:{"&:not(:first-child)":{marginLeft:-1},"&:not(:last-child)":{borderRightColor:"transparent"}},groupedOutlinedVertical:{"&:not(:first-child)":{marginTop:-1},"&:not(:last-child)":{borderBottomColor:"transparent"}},groupedOutlinedPrimary:{"&:hover":{borderColor:e.palette.primary.main}},groupedOutlinedSecondary:{"&:hover":{borderColor:e.palette.secondary.main}},groupedContained:{boxShadow:"none"},groupedContainedHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderRight:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderBottom:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedPrimary:{"&:not(:last-child)":{borderColor:e.palette.primary.dark}},groupedContainedSecondary:{"&:not(:last-child)":{borderColor:e.palette.secondary.dark}}}}),{name:"MuiButtonGroup"})(l)},1230:function(e,t,r){"use strict";var a=r(165),c=r(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(r(0)),n=(0,a(r(167)).default)(i.createElement(i.Fragment,null,i.createElement("circle",{cx:"9",cy:"8.5",r:"1.5",opacity:".3"}),i.createElement("path",{d:"M4.34 17h9.32c-.84-.58-2.87-1.25-4.66-1.25s-3.82.67-4.66 1.25z",opacity:".3"}),i.createElement("path",{d:"M9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5 5.5 6.57 5.5 8.5 7.07 12 9 12zm0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7zm0 6.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5zM4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25H4.34zm11.7-3.19c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44zM15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35z"})),"PeopleOutlineTwoTone");t.default=n},644:function(e,t,r){"use strict";var a=r(165),c=r(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(r(0)),n=(0,a(r(167)).default)(i.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=n},979:function(e,t,r){"use strict";r.r(t);var a=r(18),c=r(4),i=r(17),n=r(9),o=r(0),s=r(1218),d=r(945),l=r(946),u=r(956),p=r(1225),b=r(949),j=r(1206),h=r(15),f=r(235),O=r(72),m=(r(112),r(142)),g=r(144),v=r(147),x=r(105),I=r(101),y=r(91),S=r(141),P=(r(646),r(1215)),k=r(286),C=r.n(k),L=r(1220),N=r(2),T=["classes"],w={productId:"",supplierId:"",name:"",quantity:"",buyingPrice:"",sellingPrice:"",customPrice:!0,reorderLevel:"",stockInHand:"",mainstorePrice:!0,category:"",size:"",description:"",userId:window.userId.toString(),type:"Normal",storeId:""},z={createStockIns:y.c,createStoreProduct:I.b,updateStockIn:y.e,updateStoreProducts:I.e,fetchAllStores:m.d,fetchAllUserLevel:g.d,fetchAllSuppliers:v.d,updateStockInHand:x.f,fetchAllProducts:x.d,fetchAllStoreProduct:I.c,fetchAllStockIn:y.d,fetchByStoreIdNProductId:I.d,updateProducts:x.e};t.default=Object(O.b)((function(e){return{addStaffList:e.addStaff.list,storesList:e.stores.list,userLevelList:e.userLevel.list,suppliersList:e.suppliers.list,productsList:e.products.list,storeProductsList:e.storeProducts.list,stockInList:e.stockIns.list,storeIdNProductIdList:e.storeProducts.list}}),z)(Object(h.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),minWidth:230}},formControl:{margin:e.spacing(1),minWidth:230},smMargin:{margin:e.spacing(1)}}}))((function(e){var t=e.classes,r=Object(n.a)(e,T),h=Object(S.useToasts)().addToast,O=Object(o.useState)(0),m=Object(i.a)(O,2),g=(m[0],m[1]),v=Object(o.useState)(0),x=Object(i.a)(v,2),I=x[0],y=x[1],k=Object(o.useState)({}),z=Object(i.a)(k,2),R=(z[0],z[1]),A=Object(o.useState)(null),H=Object(i.a)(A,2),q=H[0],E=H[1],M=Object(o.useState)(0),B=Object(i.a)(M,2),V=(B[0],B[1],Object(o.useState)(0)),D=Object(i.a)(V,2),F=(D[0],D[1]),W=Object(o.useState)(0),_=Object(i.a)(W,2),J=(_[0],_[1]),Q=Object(o.useState)(0),$=Object(i.a)(Q,2),G=$[0],U=($[1],Object(o.useState)(0)),K=Object(i.a)(U,2),X=K[0],Y=K[1],Z=Object(o.useState)([]),ee=Object(i.a)(Z,2),te=ee[0],re=ee[1],ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=Object(c.a)({},se);if("productId"in e&&(t.productId=e.productId?"":"This field is required"),"supplierId"in e&&(t.supplierId=e.supplierId?"":"This field is required"),"quantity"in e&&(t.quantity=e.quantity?"":"This field is required",J(e.quantity)),"stockInHand"in e&&F(e.stockInHand),"size"in e&&(t.size=e.size?"":"This field is required"),"reorderLevel"in e&&(t.reorderLevel=e.reorderLevel?"":"This field is required"),"description"in e&&(t.description=e.description?"":"This field is required"),"buyingPrice"in e&&(t.buyingPrice=e.buyingPrice?"":"This field is required"),"sellingPrice"in e&&(t.sellingPrice=e.sellingPrice?"":"This field is required"),"storeId"in e&&(t.storeId=e.storeId?"":"This field is required"),de(Object(c.a)({},t)),e==ne)return Object.values(t).every((function(e){return""==e}))},ce=Object(f.a)(w,ae,r.setCurrentId),ie=Object(i.a)(ce,6),ne=ie[0],oe=ie[1],se=ie[2],de=ie[3],le=ie[4],ue=ie[5],pe=function(e){g(e),y(e)};return Object(o.useEffect)((function(){r.fetchAllProducts(),0==r.currentId&&0==I||oe(Object(c.a)({},r.productsList.find((function(e){return e.productId==I})))),de({}),r.fetchAllStores(),r.fetchAllSuppliers(),r.fetchAllProducts(),r.fetchAllStoreProduct(),r.fetchAllStockIn()}),[I]),Object(N.jsx)("section",{className:"content",children:Object(N.jsx)("div",{className:"container-fluid",children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-md-12",children:Object(N.jsxs)("div",{className:"card card-primary",children:[Object(N.jsx)("div",{className:"card-header",children:Object(N.jsxs)("h4",{className:"card-title",children:["Add Stock  ",Object(N.jsx)("small",{children:" "})]})}),Object(N.jsxs)("form",{id:"quickForm",autoComplete:"off",noValidate:!0,className:t.root,onSubmit:function(e){if(e.preventDefault(),ae()){var t=parseInt(ne.stockInHand)+parseInt(ne.quantity);ne.stockInHand=t;var a=function(){ue(),h("StockIn data saved succeffuly",{appearance:"success"}),h("StockIn data saved succeffuly",{appearance:"success"}),h("StockIn data saved succeffuly",{appearance:"success"}),r.fetchAllStockIn(),R(r.productsList.clearField),console.log("open = true")};0==r.currentId?(ne.type="Normal",r.createStockIns(ne),r.updateStockInHand(I,ne,a)):(r.updateStockIn(r.currentId,ne),r.updateStockInHand(r.currentProductId,G,a)),1==r.openPopup&&r.setOpenPopup(!1)}},children:[Object(N.jsxs)(s.a,{container:!0,children:[Object(N.jsxs)(s.a,{item:!0,xs:2.5,children:[Object(N.jsxs)(d.a,Object(c.a)(Object(c.a)({className:t.formControl},se.storeId&&{error:!0}),{},{children:[Object(N.jsx)(l.a,{children:"Store"}),Object(N.jsxs)(u.a,{className:"form-ctr",name:"storeId",label:" Store",value:ne.storeId,onChange:le,variant:"outlined",children:[Object(N.jsx)(p.a,{value:"",children:"Select Store"}),r.storesList.map((function(e,t){return Object(N.jsx)(p.a,{value:e.storeId,children:e.name})}))]}),se.storeId&&Object(N.jsx)(b.a,{children:se.storeId})]})),Object(N.jsx)(L.a,{className:"form-ctr",sx:{width:30},options:r.suppliersList,autoHighlight:!0,getOptionLabel:function(e){return e.name},onChange:function(e,t){E(t.id),console.log(t.id)},renderInput:function(e){return Object(N.jsx)(j.a,Object(c.a)(Object(c.a)({style:{width:"10%"}},e),{},{label:"Choose a supplier",name:"supplierId",inputProps:Object(c.a)(Object(c.a)({},e.inputProps),{},{autoComplete:"new-password"}),variant:"outlined",className:"form-ctr",id:"input-with-icon-textfield",value:ne.supplierId=q,onChange:le},se.supplierId&&{error:!0,helperText:se.supplierId}))}})]}),Object(N.jsx)(s.a,{item:!0,xs:2.5,children:Object(N.jsx)(L.a,{className:"form-ctr",sx:{width:30},options:r.productsList,autoHighlight:!0,getOptionLabel:function(e){return e.name},onSelect:le,onChange:function(e,t){var c;Y(t.productId),pe(t.productId),c=t.name,re(Object(a.a)(r.productsList.filter((function(e){return e.name===c}))))},renderInput:function(e){return Object(N.jsx)(j.a,Object(c.a)(Object(c.a)({style:{width:"10%"}},e),{},{label:"Select a product",name:"productId",inputProps:Object(c.a)(Object(c.a)({},e.inputProps),{},{autoComplete:"new-password"}),variant:"outlined",className:"form-ctr",id:"input-with-icon-textfield",value:ne.productId=X,onChange:le},se.productId&&{error:!0,helperText:se.productId}))}})}),Object(N.jsx)(s.a,{children:Object(N.jsx)(L.a,{className:"form-ctr",sx:{width:30},options:te,autoHighlight:!0,getOptionLabel:function(e){return e.size},onSelect:le,onChange:function(e,t){Y(t.productId),pe(t.productId)},renderInput:function(e){return Object(N.jsx)(j.a,Object(c.a)(Object(c.a)({style:{width:"10%"}},e),{},{label:"Select a Size",name:"productId",inputProps:Object(c.a)(Object(c.a)({},e.inputProps),{},{autoComplete:"new-password"}),variant:"outlined",className:"form-ctr",id:"input-with-icon-textfield",value:ne.productId=X,onChange:le},se.size&&{error:!0,helperText:se.size}))}})})]}),Object(N.jsx)(j.a,Object(c.a)({className:"form-ctr",id:"input-with-icon-textfield",variant:"outlined",type:"text",name:"ProductId",label:"Product Code",InputLabelProps:{startAdornment:Object(N.jsx)(P.a,{position:"start",children:Object(N.jsx)(C.a,{})})},value:ne.productId,onChange:le},se.productId&&{error:!0,helperText:se.productId})),Object(N.jsx)(j.a,Object(c.a)({className:"form-ctr",id:"input-with-icon-textfield",variant:"outlined",type:"text",name:"Description",label:"Description",InputLabelProps:{startAdornment:Object(N.jsx)(P.a,{position:"start",children:Object(N.jsx)(C.a,{})})},value:ne.description,onChange:le},se.description&&{error:!0,helperText:se.description})),Object(N.jsx)(j.a,Object(c.a)({className:"form-ctr",name:"size",label:"Size",value:ne.size,onChange:le,variant:"outlined"},se.size&&{error:!0,helperText:se.size})),Object(N.jsx)(j.a,Object(c.a)({className:"form-ctr",name:"buyingPrice",label:"Buying Price",type:"buyingPrice",value:ne.buyingPrice,onChange:le,variant:"outlined"},se.buyingPrice&&{error:!0,helperText:se.buyingPrice})),Object(N.jsx)(j.a,Object(c.a)({className:"form-ctr",name:"sellingPrice",label:"Retail Price",value:ne.sellingPrice,onChange:le,variant:"outlined"},se.sellingPrice&&{error:!0,helperText:se.sellingPrice})),Object(N.jsx)(j.a,Object(c.a)({className:"form-ctr",name:"stockInHand",label:"Stock In Hand",value:ne.stockInHand,onChange:le,variant:"outlined",on:!0},se.stockInHand&&{error:!0,helperText:se.stockInHand})),Object(N.jsx)(j.a,Object(c.a)({className:"form-ctr",name:"reorderLevel",label:"Re-order Level",value:ne.reorderLevel,onChange:le,variant:"outlined"},se.reorderLevel&&{error:!0,helperText:se.reorderLevel})),Object(N.jsx)(j.a,Object(c.a)({className:"form-ctr",name:"quantity",label:"Quantity",value:ne.quantity,onChange:le,variant:"outlined"},se.quantity&&{error:!0,helperText:se.quantity})),Object(N.jsx)("div",{className:"card-footer",children:Object(N.jsxs)("div",{children:[Object(N.jsx)("button",{variant:"contained",type:"submit",className:"btn btn-primary",children:"Save"}),Object(N.jsx)("button",{variant:"contained",className:"btn btn-secondary",onClick:ue,style:{marginLeft:3},children:"Reset"})]})})]})]})}),Object(N.jsx)("div",{className:"col-md-6"})]})})})})))}}]);
//# sourceMappingURL=31.cb0285a0.chunk.js.map