(this.webpackJsonpInvmogul=this.webpackJsonpInvmogul||[]).push([[35],{1043:function(t,e,a){"use strict";a.r(e);var s=a(18),c=a(17),n=a(9),i=(a(1239),a(371)),r=a(1218),l=a(1214),o=a(15),d=a(0),j=a(72),u=a(141),h=(a(374),a(233)),b=a(105),O=a(77),f=a(57),p=a(43),x=a(62),m=a(194),g=a(1274),S=a(125),D=a(1247),T=a(285),N=a(146),A=a(112),L=a(2),y=["classes"],v={fetchAllProducts:b.d,fetchAllNSTransactions:O.e,fetchAllTCTransactions:p.e,fetchAllCSTransactions:f.e,fetchAllTransactionDetails:O.d,fetchAllCSTransactionDetails:f.d,fetchAllTCTransactionDetails:p.d,fetchAllExpenses:m.d,fetchAllCompanyData:S.d,fetchAllCustomers:N.d,fetchAllAddStaff:A.d};e.default=Object(j.b)((function(t){return{productsList:t.products.list,creditSalesList:t.creditSale.list,tcTransactionsList:t.trucks_cadetes.list,nSTransactionDetail:t.cash.list,salesList:t.cashSale.list,cSaleDetailsList:t.credit.list,tcTransDetailsList:t.trucks.list,expensesList:t.expenses.list,companyDataList:t.companyData.list,customersList:t.customers.list,addStaffList:t.addStaff.list}}),v)(Object(o.a)((function(t){return{root:{"& .MuiTableCell-head":{fontSize:"0.95rem"}},paper:{margin:t.spacing(-8.9),padding:t.spacing(6)},grid:{paddingLeft:t.spacing(2)},td:{textIndent:"50px"},tr:{backgroundColor:"primary",color:"white"}}}))((function(t){var e=t.classes,a=Object(n.a)(t,y),o=(Object(u.useToasts)().addToast,Object(d.useState)(0)),j=Object(c.a)(o,2),b=j[0],O=j[1],f=Object(d.useState)(!1),p=Object(c.a)(f,2),m=p[0],S=p[1],N=Object(d.useState)([{}]),A=Object(c.a)(N,2),v=A[0],C=A[1],w=Object(d.useState)([]),P=Object(c.a)(w,2),I=(P[0],P[1],Object(d.useState)([])),M=Object(c.a)(I,2),E=M[0],k=M[1],R=Object(d.useState)(null),q=Object(c.a)(R,2),F=q[0],Y=q[1],B=Object(d.useState)(""),z=Object(c.a)(B,2),J=z[0],_=z[1],K=Object(d.useState)(!1),Q=Object(c.a)(K,2),U=Q[0],W=Q[1],G=Object(d.useRef)(),H=Object(d.useState)([]),V=Object(c.a)(H,2),X=V[0],Z=V[1],$=Object(d.useState)([{}]),tt=Object(c.a)($,2),et=tt[0],at=tt[1],st=Object(d.useState)([{}]),ct=Object(c.a)(st,2),nt=ct[0],it=ct[1],rt="",lt=new Date,ot=String(lt.getDate()).padStart(2,"0"),dt=String(lt.getMonth()+1).padStart(2,"0"),jt=lt.getFullYear();lt=jt+"-"+dt+"-"+ot,Object(d.useEffect)((function(){a.fetchAllProducts(),a.fetchAllNSTransactions(),a.fetchAllTCTransactions(),a.fetchAllCSTransactions(),a.fetchAllTransactionDetails(),a.fetchAllCSTransactionDetails(),a.fetchAllTCTransactionDetails(),a.fetchAllExpenses(),a.fetchAllCompanyData(),a.fetchAllCustomers(),a.fetchAllAddStaff()}),[]);new Date(new Date((new Date).getFullYear(),(new Date).getMonth(),ot)),new Date(new Date((new Date).getFullYear(),(new Date).getMonth()+1,ot)),new Date(new Date((new Date).getFullYear(),(new Date).getMonth(),8));var ut=new Date(new Date((new Date).getFullYear(),(new Date).getMonth(),ot));Object(T.useReactToPrint)({content:function(){return G.current}});return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(i.a,{className:e.paper,elevation:3,children:Object(L.jsxs)(r.a,{container:!0,children:[Object(L.jsxs)(r.a,{item:!0,xs:12,children:[Object(L.jsxs)(l.a,{children:[Object(L.jsx)(g.a,{placeholder:"Enter Date Range",max:ut,format:"yyyy-MM-dd",start:"Year",date:"Year",change:function(t){rt=t.text,Y(rt)}}),Object(L.jsx)(x.a.Button,{text:"Load ",variant:"outlined",className:e.newButton,onClick:function(){!function(){try{var t=a.salesList.filter((function(t){return t.dateIn.toString().substring(0,10)>=F.toString().substring(0,10)&&t.dateIn.toString().substring(0,10)<=F.toString().substring(13,23)})),e="",c=[],n=[];t.forEach((function(t){e=t.transCode;var i=a.nSTransactionDetail.filter((function(t){return t.transCode==e})),r=a.addStaffList.find((function(e){return e.id==t.userId}));i.forEach((function(i){var l=i.productId,o=a.productsList.find((function(t){return t.productId==l}));o.buyingPrice,i.quantity;var d={salesMan:r.fName+" "+r.sName,transCode:e,productId:o.productId,prodName:o.name,quantity:i.quantity,unitPrice:o.sellingPrice,totalPrice:i.totalPrice,deposit:i.deposit,total:i.total,date:t.dateIn.toString().substring(0,10)};n=[].concat(Object(s.a)(c),[d]),c=n}))})),Z(n),_(a.companyDataList)}catch(i){console.log(i.message)}}(),W(!0)}})]}),Object(L.jsx)(l.a,{})]}),Object(L.jsx)(r.a,{}),Object(L.jsx)(r.a,{item:!0,xs:12,children:Object(L.jsx)("div",{children:!0===U&&Object(L.jsx)(D.a,{currentId:b,setCurrentId:O,plList:v,setPlList:C,expD:E,setExpD:k,dateR:F,setDateR:Y,compD:J,setCompD:_,nSaleList:X,setNSaleList:Z,cSaleList:et,setCSaleList:at,cTSales:nt,setCTSales:it})})})]})}),Object(L.jsx)(h.a,{title:"Are you sure you want to delete this record?",subTitle:"This operation can't be reversed",confirmDialog:m,setConfirmDialog:S})]})})))},1239:function(t,e,a){},1247:function(t,e,a){"use strict";var s=a(7),c=a(9),n=(a(1239),a(15)),i=a(0),r=a(72),l=(a(141),a(374),a(233),a(105)),o=a(77),d=a(57),j=a(43),u=a(62),h=a(194),b=a(125),O=a(285),f=a.n(O),p=a(2),x=["classes"],m={fetchAllProducts:l.d,fetchAllNSTransactions:o.e,fetchAllTCTransactions:j.e,fetchAllCSTransactions:d.e,fetchAllTransactionDetails:o.d,fetchAllCSTransactionDetails:d.d,fetchAllTCTransactionDetails:j.d,fetchAllExpenses:h.d,fetchAllCompanyData:b.d};e.a=Object(r.b)((function(t){return{productsList:t.products.list,creditSalesList:t.creditSale.list,tcTransactionsList:t.trucks_cadetes.list,nSTransactionDeatail:t.cash.list,salesList:t.cashSale.list,cSaleDetailsList:t.credit.list,tcTransDetailsList:t.trucks.list,expensesList:t.expenses.list,companyDataList:t.companyData.list}}),m)(Object(n.a)((function(t){return{root:{"& .MuiTableCell-head":{fontSize:"0.95rem"}},paper:{margin:t.spacing(-8.9),padding:t.spacing(6)},grid:{paddingLeft:t.spacing(2)},td:{textIndent:"50px"},tr:{backgroundColor:"primary",color:"white"},t:{width:"200px"}}}))((function(t){var e=t.classes,a=Object(c.a)(t,x);var n,r,l=(n=a.nSaleList,r="salesMan",n.reduce((function(t,e){return void 0===e[r]?t:Object.assign(t,Object(s.a)({},e[r],(t[e[r]]||[]).concat(e)))}),{})),o=0,d=0,j=0,h=[];var b=Object(i.useRef)();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(f.a,{trigger:function(){return Object(p.jsx)(u.a.Button,{text:"Print",variant:"outlined",className:e.newButton})},content:function(){return b.current}}),Object(p.jsx)("div",{children:Object(p.jsxs)("div",{ref:b,className:"p-5",children:[Object(p.jsxs)("header",{children:[Object(p.jsxs)("div",{className:"logo",children:[Object(p.jsx)("img",{src:a.companyDataList[0].logo,alt:"generic business logo",height:100,width:100,style:{marginTop:50}}),Object(p.jsx)("h5",{children:a.companyDataList[0].name})]}),Object(p.jsxs)("div",{className:"invoiceNbr",children:["WALK IN SALES REPORT BY SALESMAN",Object(p.jsx)("br",{}),Object(p.jsxs)("h5",{children:[" For the period: ",a.dateR]})]})]}),Object(p.jsx)("section",{children:Object(p.jsxs)("table",{class:"table  .table-responsive{-sm|-md|-lg|-xl|-xxl} table-bordered table-hover table-sm table-striped",children:[Object(p.jsx)("thead",{class:"table-dark",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",className:e.t,children:"Sales Person"}),Object(p.jsx)("th",{scope:"col",children:"Product Details"})]})}),Object(p.jsx)("tbody",{children:Object.keys(l).map((function(t,a){return Object(p.jsxs)("tr",{hover:!0,children:[Object(p.jsx)("td",{className:e.td,children:t}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{className:e.t,children:"Name"}),Object(p.jsx)("th",{className:e.t,children:"Quantity"}),Object(p.jsx)("th",{className:e.t,children:"Unit Price"}),Object(p.jsx)("th",{className:e.t,children:"Total Price"}),Object(p.jsx)("th",{className:e.t,children:"Total"}),Object(p.jsxs)("th",{children:[" ",(s=l[t],s.forEach((function(t){this[t.prodName]||this[t.saleMan]||(this[t.prodName]={date:t.date,prodName:t.prodName,quantity:0,unitPrice:t.unitPrice,totalPrice:0,deposit:0,total:0,salesMan:t.salesMan},h.push(this[t.prodName])),this[t.prodName].quantity+=t.quantity,this[t.prodName].totalPrice+=t.totalPrice,this[t.prodName].deposit+=t.deposit,this[t.prodName].total+=t.total}),Object.create(null)),o=h.reduce((function(t,e){return t+e.totalPrice}),0),h.reduce((function(t,e){return t+e.deposit}),0),d=h.reduce((function(t,e){return t+e.total}),0),void(j=h.reduce((function(t,e){return t+e.quantity}),0)))]})]}),h.map((function(t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:e.t,children:t.prodName}),Object(p.jsx)("td",{className:e.t,children:t.quantity}),Object(p.jsx)("td",{className:e.t,children:t.unitPrice}),Object(p.jsx)("td",{className:e.t,children:t.totalPrice}),Object(p.jsx)("td",{className:e.t,children:t.total})]})})),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Total"}),Object(p.jsx)("td",{children:j}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{children:o}),Object(p.jsx)("td",{children:d}),Object(p.jsx)("td",{children:void(h=[])})]})]},a);var s}))})]})})]})})]})})))}}]);
//# sourceMappingURL=35.ccb36cd6.chunk.js.map