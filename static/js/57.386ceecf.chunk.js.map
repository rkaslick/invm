{"version":3,"sources":["views/Components/Forms/Sales/MakeASale.js"],"names":["initialFieldValues","_initialFieldValues","productId","supplierId","name","quantity","buyingPrice","sellingPrice","customPrice","reorderLevel","stockInHand","mainstorePrice","category","size","description","userId","storeId","totalPrice","shells","deposit","diffShell","gTotalPrice","totalDeposit","gTotal","gDeposit","_defineProperty","mapActionToProps","createStockIns","stockInActions","createStoreProduct","storeProductActions","updateStockIn","updateStoreProducts","fetchAllStores","storeActions","fetchAllUserLevel","userLevelActions","fetchAllSuppliers","supplierActions","updateStockInHand","productActions","fetchAllProducts","fetchAllStoreProduct","fetchAllStockIn","fetchByStoreIdNProductId","updateProducts","createCashSale","cashSalesActions","createCashSaleDetails","fetchAllTransactions","fetchAllCompanyData","companyDataActions","fetchAllDeposit","Dactions","fetchAllCategory","categActions","fetchAllCustomers","customerActions","fetchAllTaxes","TActions","connect","state","addStaffList","addStaff","list","storesList","stores","userLevelList","userLevel","suppliersList","suppliers","productsList","products","storeProductsList","storeProducts","stockInList","stockIns","storeIdNProductIdList","salesList","cashSale","companyDataList","companyData","depositList","categoryList","customersList","customers","taxList","tax","withStyles","theme","root","margin","spacing","minWidth","formControl","smMargin","_ref","classes","props","_objectWithoutProperties","_excluded","_useState","useState","_useState2","_slicedToArray","openRPopup","setOpenRPopup","_useState3","_useState4","openIPopup","setOpenIPopup","_useState5","_useState6","openDlPopup","setOpenDlPopup","addToast","useToasts","_useState7","_useState8","setCurrentProductId","_useState9","_useState10","_useState11","_useState12","setProductId","_useState13","_useState14","_useState15","_useState16","_useState17","_useState18","_useState19","_useState20","_useState21","_useState22","_useState23","_useState24","_useState25","_useState26","confirmDialog","setConfirmDialog","_useState27","_useState28","errorDialog","setErrorDialog","_useState29","_useState30","_useState31","_useState32","_useState33","_useState34","setProducts","_useState35","_useState36","_useState37","_useState38","_useState39","_useState40","transDetails","settransDetails","_useState41","_useState42","tCode","_useState43","_useState44","tittle","setTittle","_useState45","_useState46","recordList","setRecordList","_useState47","_useState48","trans","setTrans","_useState49","_useState50","setCompanyData","_useState51","_useState52","selectedCustomer","setSelectedCustomer","_useState53","_useState54","selectedProduct","setSelectedProduct","_useState55","_useState56","customerData","setCustomerData","_useState57","_useState58","setTaxId","_useState59","_useState60","setTax","_useState61","_useState62","fProducts","setFProducts","validate","fieldValues","arguments","length","undefined","values","temp","_objectSpread","errors","setErrors","Object","every","x","_useForm","useForm","setCurrentId","_useForm2","setValues","handleInputChange","showToast","appearance","resetF","getCId","e","useEffect","currentId","find","a","b","prd","taxId","CalcTax","tId","rate","taxRate","parseFloat","openInErrorDialog","reduce","currentItem","total","totalQnty","totalTax","onRemoveProduct","id","prod","i","splice","console","log","concat","_toConsumableArray","_jsxs","_Fragment","children","_jsx","ConfirmDialog","title","ErrorDialog","RPopup","PrintReciept","IPopup","Invoice","DlPopup","DeliveryNote","className","autoComplete","noValidate","onSubmit","preventDefault","categoryId","depVal","amount","onConfirm","discount","discountLimit","discountPrice","newProduct","parseInt","Math","round","newTDetail","transCode","newProducts","newTDetails","Grid","container","item","xs","Autocomplete","sx","width","options","autoHighlight","getOptionLabel","option","onSelect","onChange","_event","newCustomer","renderInput","params","TextField","style","label","inputProps","variant","value","customerId","error","helperText","filter","type","InputLabelProps","startAdornment","InputAdornment","position","AccountCircle","product","profit","markup","sP3","sP4","ceil","payMode","refNo","transaction","uuid","substring","toUpperCase","amntPaid","change","paymentMode","window","toString","forEach","transDetail","prods","grid","class","scope","map","ButtonGroup","Button","EditIcon","color","onClick","editItem","DeleteIcon","FormControl","InputLabel","Select","MenuItem","FormHelperText","marginLeft"],"mappings":"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","file":"static/js/57.386ceecf.chunk.js","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\r\nimport { FormControl, Grid, TextField, withStyles, InputLabel, Select, MenuItem, Button, FormHelperText, Checkbox, FormControlLabel, FormGroup, ButtonGroup, } from \"@material-ui/core\";\r\nimport { useForm } from \"../useForm\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../../../actions/Staff/addStaff\";\r\nimport * as storeActions from \"../../../../actions/Store/stores\";\r\nimport * as userLevelActions from \"../../../../actions/UserLevel/userLevel\";\r\nimport * as supplierActions from \"../../../../actions/Suppliers/suppliers\";\r\nimport * as productActions from \"../../../../actions/Products/products\";\r\nimport * as storeProductActions from \"../../../../actions/StoreProducts/storeProducts\";\r\nimport * as cashSalesActions from \"../../../../actions/CashSale/cashSale\";\r\nimport * as stockInActions from \"../../../../actions/StockIn/stockIn\";\r\nimport { ToastConsumer, useToasts } from \"react-toast-notifications\";\r\nimport \"../staffForm.css\";\r\nimport { string } from \"prop-types\";\r\nimport { RestoreSharp } from \"@material-ui/icons\";\r\nimport { createSelector, createStructuredSelector } from 'reselect';\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { parse, parseJSON } from \"date-fns\";\r\nimport ConfirmDialog from \"../../controls/ConfirmDialog\";\r\nimport ErrorDialog from \"../../controls/errorDialog\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { reset } from \"enzyme/build/configuration\";\r\nimport { v4 as uuid } from 'uuid';\r\nimport PrintReciept from \"./printReciept\";\r\nimport RPopup from \"../../RPopup \";\r\nimport * as companyDataActions from \"../../../../actions/CompanyData/companyData\";\r\nimport PrintIcon from \"@material-ui/icons/Print\";\r\nimport * as Dactions from \"../../../../actions/Deposit/deposit\";\r\nimport * as categActions from \"../../../../actions/Category/categories\";\r\nimport Invoice from \"../../SaleDocuments/Invoice/Invoice\";\r\nimport IPopup from \"../../IPopup\";\r\nimport DlPopup from \"../../DlPopup\";\r\nimport * as customerActions from \"../../../../actions/Customers/customers\";\r\nimport DeliveryNote from \"../../SaleDocuments/DeliveryNote/DeliveryNote\";\r\nimport * as TActions from \"../../../../actions/Tax/tax\";\r\nconst styles = theme => ({\r\n    root: {\r\n        '& .MuiTextField-root': {\r\n            margin: theme.spacing(1),\r\n            minWidth: 230,\r\n        }\r\n    },\r\n\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 230,\r\n    },\r\n    smMargin: {\r\n        margin: theme.spacing(1),\r\n\r\n    },\r\n})\r\n\r\nconst initialFieldValues = {\r\n\r\n    productId: '',\r\n    supplierId: '',\r\n    name: '',\r\n    quantity: '',\r\n    buyingPrice: '',\r\n    sellingPrice: '',\r\n    customPrice: true,\r\n    reorderLevel: '',\r\n    stockInHand: '',\r\n    mainstorePrice: true,\r\n    category: '',\r\n    size: '',\r\n    description: '',\r\n    userId: '1',\r\n    storeId: '',\r\n    totalPrice: '',\r\n    shells: '',\r\n    deposit: '',\r\n    diffShell: '',\r\n    gTotalPrice: '',\r\n    totalDeposit: '',\r\n    gTotal: '',\r\n    gDeposit: '',\r\n    userId: \"1\",\r\n    total: '',\r\n    change: 0,\r\n    amntPaid: \"\",\r\n    depVal: 0,\r\n    payMode: '',\r\n    discount: 0,\r\n    discountPrice: 0,\r\n    customerId: '',\r\n    refNo: '',\r\n\r\n}\r\n\r\n// //selectors\r\n// const storeList = state => state.stores.list;\r\n// const addStaff = state => state.addStaff.list;\r\n\r\n// //selectore function\r\n// export const selectStores = createSelector(\r\n//     storeList,\r\n// );\r\n// export const selectStaff = createSelector(\r\n//     addStaff,\r\n// );\r\n\r\n\r\n\r\n\r\nconst MakeASale = ({ classes, ...props }) => {\r\n\r\n    const componentDidMount = () => {\r\n        setTCode(uuid());\r\n    }\r\n    //const [addorEdit] = props;\r\n    const [openRPopup, setOpenRPopup] = useState(false);\r\n    const [openIPopup, setOpenIPopup] = useState(false);\r\n    const [openDlPopup, setOpenDlPopup] = useState(false);\r\n    //toast message\r\n    const { addToast } = useToasts();\r\n    const [currentProductId, setCurrentProductId] = useState(0);\r\n    const [currentId, setCurrentId] = useState(0);\r\n    const [productId, setProductId] = useState(0);\r\n    const [value, setValue] = useState({});\r\n    const [selectedSupplier, setSelectedSupplier] = useState(null);\r\n    const [sId, setSId] = useState(0);\r\n    const [sHand, setSHand] = useState(0);\r\n    const [quant, setQuant] = useState(0);\r\n    const [stock, setStock] = useState(0);\r\n    const [confirmDialog, setConfirmDialog] = useState(false);\r\n    const [errorDialog, setErrorDialog] = useState(false);\r\n    const [uPrice, setUPrice] = useState(0);\r\n    const [tPrice, setTPrice] = useState(0);\r\n    const [products, setProducts] = useState([]);\r\n    const [totalDep, setTotalDep] = useState(0);\r\n    const [total, setTotal] = useState(0);\r\n    const [transDetails, settransDetails] = useState([]);\r\n    const [tCode, setTCode] = useState(0);\r\n    const [tittle, setTittle] = useState(\"\");\r\n    const [recordList, setRecordList] = useState([]);\r\n    const [trans, setTrans] = useState([]);\r\n    const [companyData, setCompanyData] = useState([]);\r\n    const [selectedCustomer, setSelectedCustomer] = useState(0);\r\n    const [selectedProduct, setSelectedProduct] = useState(0);\r\n    const [customerData, setCustomerData] = useState([]);\r\n    const [taxId, setTaxId] = useState(\"\");\r\n    const [tax, setTax] = useState(0);\r\n    const [fProducts, setFProducts] = useState([]);\r\n    //realtime validation for the whole form controls\r\n    const validate = (fieldValues = values) => {\r\n        let temp = { ...errors }\r\n\r\n\r\n\r\n        if ('quantity' in fieldValues) {\r\n            temp.quantity = fieldValues.quantity ? \"\" : \"This field is required\";\r\n        }\r\n        // if ('stockInHand' in fieldValues) {\r\n        //     temp.stockInHand = fieldValues.stockInHand ? \"\" : \"This field is required\"\r\n\r\n\r\n        // }\r\n\r\n\r\n        // if ('size' in fieldValues) {\r\n        //     temp.size = fieldValues.size ? \"\" : \"This field is required\"\r\n\r\n        // }\r\n\r\n        // if ('reorderLevel' in fieldValues) {\r\n        //     temp.reorderLevel = fieldValues.reorderLevel ? \"\" : \"This field is required\"\r\n\r\n        // }\r\n\r\n\r\n        // if ('description' in fieldValues) {\r\n        //     temp.description = fieldValues.description ? \"\" : \"This field is required\"\r\n\r\n        // }\r\n\r\n        if ('sellingPrice' in fieldValues) {\r\n            temp.sellingPrice = fieldValues.sellingPrice ? \"\" : \"This field is required\"\r\n\r\n        }\r\n\r\n        if ('name' in fieldValues) {\r\n            temp.name = fieldValues.name ? \"\" : \"This field is required\"\r\n\r\n        }\r\n\r\n        // if ('storeId' in fieldValues) {\r\n        //     temp.storeId = fieldValues.storeId ? \"\" : \"This field is required\"\r\n        // }\r\n        // if ('shells' in fieldValues) {\r\n        //     temp.shells = fieldValues.shells ? \"\" : \"This field is required\"\r\n\r\n        // }\r\n\r\n\r\n        // if (fieldValues.shells == 0) {\r\n        //     if ('depVal' in fieldValues) {\r\n        //         temp.depVal = fieldValues.depVal ? \"\" : \"This field is required\"\r\n\r\n        //     }\r\n\r\n        // }\r\n\r\n\r\n        setErrors({\r\n            ...temp\r\n        })\r\n        if (fieldValues == values) {\r\n            return Object.values(temp).every(x => x == \"\")\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const validate2 = (fieldValues = values) => {\r\n        let temp = { ...errors }\r\n\r\n\r\n\r\n        if ('totalDeposit' in fieldValues) {\r\n            temp.totalDeposit = fieldValues.totalDeposit ? \"\" : \"This field is required\";\r\n        }\r\n        if ('total' in fieldValues) {\r\n            temp.total = fieldValues.total ? \"\" : \"This field is required\"\r\n        }\r\n        // if ('grandDeposit' in fieldValues) {\r\n        //     temp.grandDeposit = fieldValues.grandDeposit ? \"\" : \"This field is required\"\r\n        // }\r\n        if ('payMode' in fieldValues) {\r\n            temp.payMode = fieldValues.payMode ? \"\" : \"This field is required\"\r\n        }\r\n        if ('amntPaid' in fieldValues) {\r\n            temp.amntPaid = fieldValues.amntPaid ? \"\" : \"This field is required\"\r\n        }\r\n        if ('change' in fieldValues) {\r\n            temp.change = fieldValues.change ? \"\" : \"This field is required\"\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        setErrors({\r\n            ...temp\r\n        })\r\n        if (fieldValues == values) {\r\n            return Object.values(temp).every(x => x == \"\")\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const [\r\n        values,\r\n        setValues,\r\n        errors,\r\n        setErrors,\r\n        handleInputChange,\r\n        resetForm\r\n    ] = useForm(initialFieldValues, validate, props.setCurrentId);\r\n\r\n    const showToast = () => {\r\n        addToast(\"Transaction is Successful\", { appearance: 'success' })\r\n        addToast(\"Transaction is Successful\", { appearance: 'success' })\r\n        addToast(\"Transaction is Successful\", { appearance: 'success' })\r\n\r\n\r\n    }\r\n\r\n    const handleFormChange = (e) => {\r\n        e.preventDefault();\r\n\r\n\r\n        //pick Deposit according to category\r\n        var category = props.categoryList.find(x => x.id == values.categoryId);\r\n        var deposit = props.depositList.find(x => x.name == category.name);\r\n\r\n        deposit == undefined ? values.depVal = 0 : values.depVal = deposit.amount;\r\n        // values.depVal = 0;\r\n        if (values.shells == undefined) {\r\n            values.shells = 0;\r\n        }\r\n\r\n        // if (values.depVal == undefined) {\r\n        //     values.depVal = 460;\r\n        //     // console.log(values.depVal);\r\n        // }\r\n        if (values.stockInHand < values.quantity) {\r\n            console.log(\" oops soory \" + values.stockInHand);\r\n            setTittle(\"Ooops!! Sorry The requested  Quantity is not available, Availble stock is: \" + values.stockInHand);\r\n            openInErrorDialog();\r\n            setErrorDialog({\r\n                onConfirm: () => { }\r\n            })\r\n            values.quantity = \"\";\r\n            // values.shells = \"\";\r\n        }\r\n\r\n        if (values.discount > values.discountLimit) {\r\n            // console.log(\" oops soory \" + values.stockInHand);\r\n            setTittle(\"Ooops!! Sorry, discount should be below: \" + values.discountLimit + \" KES\");\r\n            openInErrorDialog();\r\n            setErrorDialog({\r\n                onConfirm: () => { }\r\n            })\r\n            // values.quantity = \"\";\r\n            // values.shells = \"\";\r\n        } else {\r\n            if (validate()) {\r\n                const CalcDiscount = () => {\r\n                    // var dis = values.discount / 100;\r\n                    // var disAmount = dis * values.sellingPrice;\r\n                    values.discountPrice = parseFloat(values.sellingPrice - values.discount);\r\n                    values.sellingPrice = values.discountPrice;\r\n                    // console.log(values.discountPrice);\r\n                }\r\n                // console.log(values.shells);\r\n                if (values.quantity > 0) {\r\n                    if (values.discount > 0) {\r\n                        CalcDiscount();\r\n                    } else {\r\n                        values.discount = 0\r\n                    }\r\n                    const newProduct = {\r\n                        productId: values.productId,\r\n                        name: values.name,\r\n                        size: values.size,\r\n                        sellingPrice: values.sellingPrice,\r\n                        quantity: parseInt(values.quantity),\r\n                        discount: parseFloat(values.discount),\r\n                        // shells: parseInt(values.shells),\r\n                        // diffShell: values.depVal !=0?parseInt(values.quantity) - parseInt(values.shells): 0,\r\n                        // deposit: Math.round(((parseInt(values.quantity) - parseInt(values.shells)) * parseInt(values.depVal))),\r\n                        totalPrice: Math.round(((parseFloat(values.quantity) * parseFloat(values.sellingPrice)))),\r\n                        // total: Math.round(((parseFloat(values.quantity) * parseFloat(values.sellingPrice)))) + Math.round(((parseInt(values.quantity) - parseInt(values.shells)) * parseInt(values.depVal))),\r\n                        total: parseFloat(values.quantity) * parseFloat(values.sellingPrice),\r\n                        tax: Math.round(((parseFloat(values.quantity) * parseFloat(values.sellingPrice) * parseFloat(tax)))),\r\n                        // storeId: parseInt(values.storeId)\r\n                    };\r\n\r\n                    const newTDetail = {\r\n\r\n                        transCode: tCode,\r\n                        productId: values.productId,\r\n                        sellingPrice: values.sellingPrice,\r\n                        quantity: parseInt(values.quantity),\r\n                        // shells: parseInt(values.shells),\r\n                        // diffShell: values.depVal !=0?parseInt(values.quantity) - parseInt(values.shells): 0,\r\n                        // deposit: Math.round(((parseInt(values.quantity) - parseInt(values.shells)) * parseInt(values.depVal))),\r\n                        totalPrice: Math.round(((parseFloat(values.quantity) * parseFloat(values.sellingPrice)))),\r\n                        // total: Math.round(((parseFloat(values.quantity) * parseFloat(values.sellingPrice)))) + Math.round(((parseInt(values.quantity) - parseInt(values.shells)) * parseInt(values.depVal))),\r\n                        discount: parseFloat(values.discount),\r\n                        total: parseFloat(values.quantity) * parseFloat(values.sellingPrice),\r\n                        tax: Math.round(((parseFloat(values.quantity) * parseFloat(values.sellingPrice) * parseFloat(tax)))),\r\n                        // storeId: parseInt(values.storeId)\r\n                    }\r\n\r\n\r\n\r\n                    const newProducts = [...products, newProduct];\r\n                    const newTDetails = [...transDetails, newTDetail];\r\n                    setProducts(newProducts);\r\n                    settransDetails(newTDetails);\r\n                    // setTotalDep(2000);\r\n                    // setTotal(3000);\r\n                    //  settransDetails(newProducts);\r\n                    // console.log(newProducts);\r\n                    resetF();\r\n                    console.log(newProduct);\r\n                } else {\r\n\r\n                    setTittle(\"Please specify quantity\");\r\n                    openInErrorDialog();\r\n                    setErrorDialog({\r\n                        onConfirm: () => { }\r\n                    })\r\n\r\n\r\n                }\r\n\r\n\r\n            }\r\n        }\r\n        //console.log(values.quantity);\r\n\r\n\r\n\r\n    }\r\n    const resetF = () => {\r\n        setValues({\r\n            ...initialFieldValues\r\n        })\r\n        setErrors({})\r\n    }\r\n\r\n\r\n    // const setId = () => {\r\n    //     setCurrentId(record.productId)\r\n    // }\r\n    const getCId = e => {\r\n        // const target = e.target;\r\n        setCurrentProductId(e);\r\n        setProductId(e);\r\n        // console.log(productId)\r\n    }\r\n\r\n    const productByName = (name) => {\r\n        setFProducts([...props.productsList.filter(x => x.name === name)])\r\n    }\r\n    const getUnitPrice = e => {\r\n        const target = e.target;\r\n        setUPrice(target.value);\r\n        //console.log(setUPrice);\r\n\r\n    }\r\n\r\n    const getQuantity = e => {\r\n        const target = e.target;\r\n        setQuant(target.value);\r\n        console.log(uPrice);\r\n\r\n\r\n    }\r\n\r\n    const calculateTotalPrice = () => {\r\n\r\n        var totalP = parseFloat(uPrice) * parseFloat(quant)\r\n        // setQuant(fieldValues.quantity)\r\n        //  setSHand(fieldValues.stockInHand);\r\n        console.log(totalP);\r\n\r\n\r\n    }\r\n\r\n    // const getStoreId = s => {\r\n\r\n    //     setSId(s);\r\n    // }\r\n\r\n    const clearField = () => {\r\n        setValue(props.productsList.clearField);\r\n\r\n        console.log(\"open = true\")\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n\r\n        if (gTotal != 0 && values.payMode != \"\") {\r\n\r\n            if (values.payMode === 'Bank' || values.payMode === 'Mpesa') {\r\n                if (values.refNo) {\r\n                    const onSuccess = () => {\r\n                        showToast();\r\n                        resetF();\r\n                        // clearField();\r\n\r\n                    }\r\n\r\n                    const transaction = {\r\n                        transCode: \"NS-\" + uuid().substring(0, 8).toUpperCase(),\r\n                        gDeposit: gDeposit,\r\n                        totalPrice: gTotalPrice,\r\n                        gTotal: gTotal,\r\n                        quantity: totalQnty,\r\n                        amntPaid: parseFloat(gTotal),\r\n                        change: values.change,\r\n                        paymentMode: values.payMode,\r\n                        userId: window.userId.toString(),\r\n                        totalTax: totalTax,\r\n                        refNo: values.refNo,\r\n                        // storeId: values.storeId\r\n                    };\r\n\r\n\r\n\r\n\r\n                    transDetails.forEach((transDetail) => {\r\n\r\n                        transDetail.transCode = transaction.transCode;\r\n                        // transDetail.storeId = transaction.storeId;\r\n                        props.createCashSaleDetails(transDetail);\r\n                        //update stockinHand foreachItem\r\n                        var prods = props.productsList.find(x => x.productId == transDetail.productId);\r\n                        var stockInHand = parseInt(prods.stockInHand) - parseInt(transDetail.quantity);\r\n                        props.updateStockInHand(transDetail.productId, { stockInHand: stockInHand });\r\n                        //console.log(transDetail);\r\n                    });\r\n                    props.createCashSale(transaction, onSuccess);\r\n                    // console.log(transaction);\r\n                    // openInPopup();\r\n                    setOpenRPopup(true);\r\n                    setRecordList(products);\r\n                    setTrans(transaction);\r\n                    setCompanyData(props.companyDataList);\r\n                    resetF();\r\n                    setProducts([]);\r\n\r\n                } else {\r\n                    setTittle(\"Please enter a refference Number\");\r\n                    openInErrorDialog();\r\n                    setErrorDialog({\r\n                        onConfirm: () => { }\r\n                    })\r\n                }\r\n            } else if (values.payMode === 'Cash') {\r\n                const onSuccess = () => {\r\n                    showToast();\r\n                    resetF();\r\n                    // clearField();\r\n\r\n                }\r\n\r\n                const transaction = {\r\n                    transCode: \"NS-\" + uuid().substring(0, 8).toUpperCase(),\r\n                    gDeposit: gDeposit,\r\n                    totalPrice: gTotalPrice,\r\n                    gTotal: gTotal,\r\n                    quantity: totalQnty,\r\n                    amntPaid: parseFloat(gTotal),\r\n                    change: values.change,\r\n                    paymentMode: values.payMode,\r\n                    userId: window.userId.toString(),\r\n                    totalTax: totalTax,\r\n                    // storeId: values.storeId\r\n\r\n\r\n                };\r\n\r\n\r\n\r\n\r\n                transDetails.forEach((transDetail) => {\r\n\r\n                    transDetail.transCode = transaction.transCode;\r\n                    // transDetail.storeId = transaction.storeId;\r\n                    props.createCashSaleDetails(transDetail);\r\n                    //update stockinHand foreachItem\r\n                    var prods = props.productsList.find(x => x.productId == transDetail.productId);\r\n                    var stockInHand = parseInt(prods.stockInHand) - parseInt(transDetail.quantity);\r\n                    props.updateStockInHand(transDetail.productId, { stockInHand: stockInHand });\r\n                    //console.log(transDetail);\r\n                });\r\n                props.createCashSale(transaction, onSuccess);\r\n                // console.log(transaction);\r\n                // openInPopup();\r\n                setOpenRPopup(true);\r\n                setRecordList(products);\r\n                setTrans(transaction);\r\n                setCompanyData(props.companyDataList);\r\n                resetF();\r\n                setProducts([]);\r\n            }\r\n\r\n\r\n            // if (props.openPopup == true) {\r\n            //     props.setOpenPopup(false)\r\n            // }\r\n        } else {\r\n            setTittle(\"Please select payment mode.\");\r\n            openInErrorDialog();\r\n            setErrorDialog({\r\n                onConfirm: () => { }\r\n            })\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        props.fetchAllCompanyData();\r\n        props.fetchAllProducts();\r\n        props.fetchAllStockIn();\r\n        props.fetchAllTransactions();\r\n        props.fetchAllDeposit();\r\n        props.fetchAllCategory();\r\n        props.fetchAllCustomers();\r\n        props.fetchAllTaxes();\r\n        // props.fetchAllStores();\r\n\r\n        if (props.currentId != 0 || productId != 0) {\r\n            setValues({\r\n                //...props.addStaffList.find(x => x.id == props.currentId),\r\n                ...props.productsList.find(x => x.productId == productId),\r\n\r\n                ...props.storeProductsList.find(a => a.productId == productId) && props.storeProductsList.find(b => b.storeId == 2),\r\n            })\r\n\r\n            props.fetchAllCompanyData();\r\n            // calcUnitPrice();\r\n\r\n            const prd = { ...props.productsList.find(x => x.productId == productId) };\r\n            // console.log(prd);\r\n            setTaxId(prd.taxId);\r\n            CalcTax(prd.taxId);\r\n\r\n        }\r\n        setErrors({})\r\n    }, [productId])\r\n\r\n    const CalcTax = (tId) => {\r\n        // console.log(\"taxt id is \" + tId);\r\n        const tax = { ...props.taxList.find(x => x.taxId === tId) };\r\n        // setTaxId(tax.taxId);\r\n        if (tax.rate === undefined) {\r\n            tax.rate = 0;\r\n        }\r\n        let taxRate = parseFloat(tax.rate / 100);\r\n        setTax(taxRate);\r\n        //   console.log(props.taxList);\r\n    }\r\n    const calcUnitPrice = () => {\r\n        var product = { ...props.productsList.find(x => x.productId == productId) };\r\n        var profit = product.markup;\r\n        var buyingPrice = product.buyingPrice;\r\n        var sP1 = profit / 100\r\n        var sP2 = sP1 * buyingPrice;\r\n        var sP3 = buyingPrice + sP2;\r\n\r\n        var sP4 = Math.ceil(sP3 / 10) * 10;\r\n\r\n\r\n        if (product.markup !== 0) {\r\n            values.sellingPrice = sP4;\r\n        }\r\n        // console.log(sP4);\r\n        setValues({\r\n            name: product.name,\r\n            sellingPrice: values.sellingPrice,\r\n            stockInHand: product.stockInHand,\r\n            discountLimit: product.discountLimit\r\n        })\r\n        // console.log(product.discountLimit);\r\n\r\n    }\r\n    const onDelete = id => {\r\n        props.deleteStockIn(id, showToast)\r\n        setConfirmDialog(false)\r\n\r\n    }\r\n\r\n    const openInDialog = () => {\r\n        setConfirmDialog(true)\r\n\r\n\r\n\r\n    }\r\n    const openInErrorDialog = () => {\r\n        setErrorDialog(true)\r\n\r\n\r\n\r\n    }\r\n\r\n    const getChange = e => {\r\n        const target = e.target;\r\n        setQuant(target.value);\r\n        console.log(uPrice);\r\n    }\r\n\r\n    var gTotal = (products.reduce((gTotal, currentItem) => gTotal = gTotal + currentItem.total, 0));\r\n    var gDeposit = (products.reduce((gDeposit, currentItem) => gDeposit = gDeposit + currentItem.deposit, 0));\r\n    var gTotalPrice = (products.reduce((gTotalPrice, currentItem) => gTotalPrice = gTotalPrice + currentItem.totalPrice, 0));\r\n    var totalQnty = (products.reduce((totalQnty, currentItem) => totalQnty = totalQnty + currentItem.quantity, 0));\r\n    var totalTax = (products.reduce((totalTax, currentItem) => totalTax = totalTax + currentItem.tax, 0));\r\n    const onRemoveProduct = (id) => {\r\n        var prod = products;\r\n        for (var i = 0; i < prod.length; i++) {\r\n            if (prod[i].productId == id) {\r\n                prod.splice(i, 1);\r\n                console.log(i);\r\n                const newProd = [...products, prod];\r\n                setProducts(prod);\r\n\r\n            }\r\n        }\r\n        setConfirmDialog(false);\r\n\r\n    }\r\n\r\n    const editItem = (productId) => {\r\n        setValues({ ...products.find(x => x.productId == productId) });\r\n        onRemoveProduct(productId);\r\n    }\r\n\r\n    const openInPopup = () => {\r\n        //setRecordList(record);\r\n        setOpenRPopup(true);\r\n    }\r\n\r\n    const showInvoice = () => {\r\n\r\n\r\n    }\r\n\r\n    return (\r\n\r\n        <>\r\n            <ConfirmDialog\r\n                title=\"Are you sure you want to remove this product from the cart?\"\r\n                // subTitle=\"This operation can't be reversed\"\r\n                confirmDialog={confirmDialog}\r\n                setConfirmDialog={setConfirmDialog}\r\n            />\r\n\r\n            <ErrorDialog\r\n                title={tittle}\r\n                // subTitle=\"This operation can't be reversed\"\r\n                errorDialog={errorDialog}\r\n                setErrorDialog={setErrorDialog}\r\n            />\r\n\r\n            <RPopup\r\n                title=\"Reciept\"\r\n                openRPopup={openRPopup}\r\n                setOpenRPopup={setOpenRPopup}\r\n            >\r\n                <PrintReciept\r\n                    {...({ companyData, trans, recordList, setRecordList, setOpenRPopup, totalTax })}\r\n                //addorEdit={addorEdit}\r\n                />\r\n            </RPopup>\r\n            <IPopup\r\n                title=\"Invoice\"\r\n                openIPopup={openIPopup}\r\n                setOpenIPopup={setOpenIPopup}\r\n            >\r\n                {/* <PrintReciept\r\n                    {...({ companyData, trans, recordList, setRecordList, setOpenRPopup })}\r\n                //addorEdit={addorEdit}\r\n                /> */}\r\n                <Invoice\r\n                    {...({ products, setOpenIPopup, gTotalPrice, customerData, totalTax })}\r\n                />\r\n            </IPopup>\r\n            <DlPopup\r\n                title=\"Delivery Note\"\r\n                openDlPopup={openDlPopup}\r\n                setOpenDlPopup={setOpenDlPopup}\r\n            >\r\n                {/* <PrintReciept\r\n                    {...({ companyData, trans, recordList, setRecordList, setOpenRPopup })}\r\n                //addorEdit={addorEdit}\r\n                /> */}\r\n                <DeliveryNote\r\n                    {...({ products, setOpenDlPopup, gTotalPrice, customerData, totalTax })}\r\n                />\r\n            </DlPopup>\r\n\r\n            <section className=\"content\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        {/* left column */}\r\n                        <div className=\"col-md-12\">\r\n                            {/* jquery validation */}\r\n                            <div className=\"card card-primary\">\r\n                                <div className=\"card-header\">\r\n                                    <h4 className=\"card-title\">Make A Sale <small> </small></h4>\r\n                                </div>\r\n                                {/* /.card-header */}\r\n                                {/* form start */}\r\n                                <form id=\"quickForm\" autoComplete=\"off\" noValidate className={classes.root} onSubmit={handleFormChange}>\r\n\r\n\r\n                                    <Grid container>\r\n                                        <Grid item xs={2.5}>\r\n\r\n                                            {/* <FormControl className={classes.formControl}\r\n                                                {...(errors.storeId && { error: true })}\r\n                                            >\r\n                                                <InputLabel>Store</InputLabel>\r\n                                                <Select\r\n                                                    className=\"form-ctr\"\r\n                                                    name=\"storeId\"\r\n                                                    label=\" Store\"\r\n                                                    value={values.storeId}\r\n                                                    //onFocus={fetchStores}\r\n                                                    onChange={handleInputChange}\r\n                                                    variant=\"outlined\"\r\n\r\n                                                >\r\n\r\n                                                    <MenuItem value=\"\">Select Store</MenuItem>\r\n\r\n                                                    {\r\n                                                        props.storesList.map((record, index) => {\r\n                                                            return (\r\n                                                                <MenuItem value={record.storeId}>{record.name}</MenuItem>\r\n\r\n                                                            )\r\n                                                        })\r\n                                                    }\r\n                                                </Select>\r\n                                                {errors.storeId && <FormHelperText>{errors.storeId}</FormHelperText>}\r\n                                            </FormControl> */}\r\n                                            <Autocomplete\r\n                                                //id=\"country-select-demo\"\r\n                                                className=\"form-ctr\"\r\n                                                sx={{ width: 30 }}\r\n\r\n                                                options={props.customersList}\r\n\r\n                                                autoHighlight\r\n                                                getOptionLabel={(option) => option.name}\r\n                                                onSelect={handleInputChange}\r\n                                                //getOptionSelected ={}\r\n\r\n                                                onChange={(_event, newCustomer) => {\r\n\r\n                                                    setSelectedCustomer(newCustomer.id);\r\n                                                    // checkBalance(newCustomer.id);\r\n                                                    setCustomerData({ ...props.customersList.find(x => x.id == newCustomer.id), });\r\n\r\n\r\n                                                }}\r\n\r\n\r\n                                                renderInput={(params) => (\r\n                                                    <TextField\r\n                                                        style={{ width: '10%' }}\r\n                                                        {...params}\r\n                                                        label=\"Choose a Customer\"\r\n                                                        name=\"customerId\"\r\n                                                        inputProps={{\r\n                                                            ...params.inputProps,\r\n                                                            autoComplete: 'new-password', // disable autocomplete and autofill\r\n                                                        }}\r\n                                                        variant=\"outlined\"\r\n                                                        className=\"form-ctr\"\r\n                                                        id=\"input-with-icon-textfield\"\r\n                                                        value={values.customerId = selectedCustomer}\r\n                                                        onChange={handleInputChange}\r\n                                                        {...(errors.customerId && { error: true, helperText: errors.customerId })}\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n\r\n                                        </Grid>\r\n                                        <Grid item xs={2.5}>\r\n\r\n                                            <Autocomplete\r\n                                                //id=\"country-select-demo\"\r\n                                                className=\"form-ctr\"\r\n                                                sx={{ width: 30 }}\r\n\r\n                                                options={props.productsList}\r\n\r\n                                                autoHighlight\r\n                                                getOptionLabel={(option) => option.name}\r\n                                                onSelect={handleInputChange}\r\n                                                //getOptionSelected ={}\r\n\r\n                                                onChange={(_event, newProduct) => {\r\n\r\n                                                    setSelectedProduct(newProduct.productId);\r\n                                                    // checkBalance(newCustomer.id);\r\n                                                    // setCustomerData({ ...props.customersList.find(x => x.id == newCustomer.id), });\r\n                                                    getCId(newProduct.productId);\r\n                                                    productByName(newProduct.name);\r\n                                                }}\r\n\r\n\r\n                                                renderInput={(params) => (\r\n                                                    <TextField\r\n                                                        style={{ width: '10%' }}\r\n                                                        {...params}\r\n                                                        label=\"Select a product\"\r\n                                                        name=\"productId\"\r\n                                                        inputProps={{\r\n                                                            ...params.inputProps,\r\n                                                            autoComplete: 'new-password', // disable autocomplete and autofill\r\n                                                        }}\r\n                                                        variant=\"outlined\"\r\n                                                        className=\"form-ctr\"\r\n                                                        id=\"input-with-icon-textfield\"\r\n                                                        value={values.productId = selectedProduct}\r\n                                                        onChange={handleInputChange}\r\n                                                        {...(errors.productId && { error: true, helperText: errors.productId })}\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n\r\n                                        </Grid>\r\n\r\n                                        <Grid>\r\n                                            <Autocomplete\r\n                                                //id=\"country-select-demo\"\r\n                                                className=\"form-ctr\"\r\n                                                sx={{ width: 30 }}\r\n\r\n                                                options={fProducts}\r\n\r\n                                                autoHighlight\r\n                                                getOptionLabel={(option) => option.size}\r\n                                                onSelect={handleInputChange}\r\n                                                //getOptionSelected ={}\r\n\r\n                                                onChange={(_event, newProduct) => {\r\n\r\n                                                    setSelectedProduct(newProduct.productId);\r\n                                                    // checkBalance(newCustomer.id);\r\n                                                    // setCustomerData({ ...props.customersList.find(x => x.id == newCustomer.id), });\r\n                                                    getCId(newProduct.productId);\r\n\r\n                                                }}\r\n\r\n\r\n                                                renderInput={(params) => (\r\n                                                    <TextField\r\n                                                        style={{ width: '10%' }}\r\n                                                        {...params}\r\n                                                        label=\"Select size\"\r\n                                                        name=\"productId\"\r\n                                                        inputProps={{\r\n                                                            ...params.inputProps,\r\n                                                            autoComplete: 'new-password', // disable autocomplete and autofill\r\n                                                        }}\r\n                                                        variant=\"outlined\"\r\n                                                        className=\"form-ctr\"\r\n                                                        id=\"input-with-icon-textfield\"\r\n                                                        value={values.productId = selectedProduct}\r\n                                                        onChange={handleInputChange}\r\n                                                        {...(errors.size && { error: true, helperText: errors.size })}\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n\r\n                                        </Grid>\r\n                                    </Grid>\r\n\r\n\r\n\r\n\r\n                                    <TextField\r\n                                        className=\"form-ctr\"\r\n                                        id=\"input-with-icon-textfield\"\r\n                                        variant=\"outlined\"\r\n                                        type=\"text\"\r\n                                        name=\"productId\"\r\n                                        label=\"Product Code\"\r\n                                        InputLabelProps={{\r\n                                            startAdornment: (\r\n                                                <InputAdornment position=\"start\">\r\n                                                    <AccountCircle />\r\n                                                </InputAdornment>\r\n                                            ),\r\n                                        }}\r\n                                        value={values.productId}\r\n                                        onChange={handleInputChange, calcUnitPrice}\r\n                                        {...(errors.productId && { error: true, helperText: errors.productId })}\r\n                                    />\r\n                                    {/* <TextField\r\n                                        className=\"form-ctr\"\r\n                                        id=\"input-with-icon-textfield\"\r\n                                        variant=\"outlined\"\r\n                                        type=\"text\"\r\n                                        name=\"Description\"\r\n                                        label=\"Description\"\r\n                                        InputLabelProps={{\r\n                                            startAdornment: (\r\n                                                <InputAdornment position=\"start\">\r\n                                                    <AccountCircle />\r\n                                                </InputAdornment>\r\n                                            ),\r\n                                        }}\r\n                                        value={values.description}\r\n                                        onChange={handleInputChange}\r\n                                        {...(errors.description && { error: true, helperText: errors.description })}\r\n                                    /> */}\r\n\r\n\r\n                                    {/* <TextField className=\"form-ctr\" name=\"size\" label=\"Size\" value={values.size}\r\n                                        onChange={handleInputChange}\r\n                                        variant=\"outlined\"\r\n\r\n\r\n                                        {... (errors.size && { error: true, helperText: errors.size })}\r\n                                    /> */}\r\n\r\n                                    <TextField className=\"form-ctr\" name=\"sellingPrice\" label=\"Unit Price\" value={values.sellingPrice}\r\n                                        onChange={handleInputChange}\r\n\r\n                                        variant=\"outlined\"\r\n\r\n                                        {... (errors.sellingPrice && { error: true, helperText: errors.sellingPrice })}\r\n                                    />\r\n\r\n\r\n                                    <TextField className=\"form-ctr\" name=\"quantity\" label=\"Quantity\" value={values.quantity}\r\n                                        onChange={handleInputChange}\r\n                                        variant=\"outlined\"\r\n\r\n                                        {... (errors.quantity && { error: true, helperText: errors.quantity })}\r\n\r\n                                    />\r\n\r\n                                    <TextField className=\"form-ctr\" name=\"discount\" label=\"Discount\" value={values.discount}\r\n                                        onChange={handleInputChange}\r\n                                        variant=\"outlined\"\r\n\r\n                                        {... (errors.discount && { error: true, helperText: errors.discount })}\r\n\r\n                                    />\r\n\r\n                                    {/* <TextField className=\"form-ctr\" name=\"discountPrice\" label=\"Discount Price\" value={values.discountPrice}\r\n                                        onChange={handleInputChange}\r\n                                        variant=\"outlined\" \r\n\r\n                                        {... (errors.discountPrice && { error: true, helperText: errors.discountPrice })}\r\n\r\n                                    /> */}\r\n\r\n                                    {/* <TextField className=\"form-ctr\" name=\"shells\" label=\"Shells\" value={values.shells}\r\n                                        onChange={handleInputChange}\r\n                                        variant=\"outlined\"\r\n\r\n                                        {... (errors.shells && { error: true, helperText: errors.shells })}\r\n\r\n                                    /> */}\r\n\r\n\r\n\r\n                                    <br />\r\n                                    <br />\r\n                                    {/* /.card-body */}\r\n                                    <div className=\"card-footer\">\r\n                                        <div>\r\n                                            <button variant=\"contained\" type=\"submit\" className=\"btn btn-primary\"  >Add To Cart</button>\r\n                                            {/* <button variant=\"contained\"\r\n                                                className=\"btn btn-secondary\"\r\n                                                onClick={resetF} style={{ marginLeft: 3 }}>Reset</button> */}\r\n                                        </div>\r\n\r\n                                    </div>\r\n\r\n                                </form>\r\n                                <form id=\"quickForm\" autoComplete=\"off\" noValidate className={classes.root} onSubmit={handleSubmit}>\r\n                                    <div className={classes.grid}>\r\n                                        <table class=\"table  .table-responsive{-sm|-md|-lg|-xl|-xxl} table-bordered table-hover table-sm table-striped\" >\r\n                                            <thead class=\"thead-dark\">\r\n                                                <tr>\r\n                                                    {/* <th scope=\"col\">Product Id</th> */}\r\n                                                    <th scope=\"col\">Name</th>\r\n                                                    {/* <th scope=\"col\">Size</th>\r\n                                                    <th scope=\"col\">Category</th> */}\r\n                                                    <th scope=\"col\">Unit Price</th>\r\n                                                    <th scope=\"col\">Quantity</th>\r\n                                                    {/* <th scope=\"col\">Shells</th> */}\r\n                                                    {/* <th scope=\"col\">- Shells</th>\r\n                                                    <th scope=\"col\">Deposit</th> */}\r\n                                                    <th scope=\"col\">Discount</th>\r\n                                                    <th scope=\"col\">Total Price</th>\r\n                                                    <th scope=\"col\">Total</th>\r\n                                                    {/* <th scope=\"col\">Actions</th> */}\r\n\r\n\r\n                                                    <th></th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {products.map((product) =>\r\n                                                (\r\n                                                    <tr>\r\n                                                        {/* <td>{product.productId}</td> */}\r\n                                                        <td>{product.name}</td>\r\n                                                        {/* <td>{product.size}</td>\r\n                                                        <td>{product.category}</td> */}\r\n                                                        <td>{product.sellingPrice}</td>\r\n                                                        <td>{product.quantity}</td>\r\n                                                        {/* <td>{product.shells}</td>\r\n                                                        <td>{product.diffShell}</td>\r\n                                                        <td>{product.deposit}</td> */}\r\n                                                        <td>{product.discount}</td>\r\n                                                        <td>{product.totalPrice}</td>\r\n                                                        <td>{product.total}</td>\r\n\r\n\r\n                                                        <td>\r\n                                                            <ButtonGroup variant=\"text\">\r\n                                                                <Button><EditIcon color=\"primary\"\r\n                                                                    onClick={() => { editItem(product.productId) }}\r\n                                                                /></Button>\r\n                                                                <Button><DeleteIcon color=\"Secondary\"\r\n                                                                    onClick={() => {\r\n                                                                        openInDialog()\r\n                                                                        setConfirmDialog({\r\n                                                                            onConfirm: () => { onRemoveProduct(product.productId) }\r\n                                                                        })\r\n\r\n                                                                        // onRemoveProduct(product.productId)\r\n                                                                    }\r\n                                                                    }\r\n\r\n                                                                /></Button>\r\n                                                            </ButtonGroup>\r\n                                                        </td>\r\n                                                    </tr>\r\n\r\n                                                )\r\n\r\n\r\n                                                )}\r\n\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                    <br />\r\n\r\n                                    {/* <TextField className=\"form-ctr\" name=\"totalDeposit\" label=\"Total Depost\" value={gDeposit}\r\n                                        onChange={handleInputChange}\r\n                                        variant=\"outlined\"\r\n\r\n\r\n                                        {... (errors.totaldeposit && { error: true, helperText: errors.totaldeposit })}\r\n                                    /> */}\r\n\r\n\r\n                                    <TextField className=\"form-ctr\" name=\"total\" label=\"Total Price\" value={gTotalPrice}\r\n                                        onChange={handleInputChange}\r\n                                        variant=\"outlined\"\r\n\r\n\r\n                                        {... (errors.gTotalPrice && { error: true, helperText: errors.gTotalPrice })}\r\n                                    />\r\n\r\n                                    <TextField className=\"form-ctr\" name=\"grandTotal\" label=\"Grand Total\" value={gTotal}\r\n                                        onChange={handleInputChange}\r\n                                        variant=\"outlined\"\r\n\r\n\r\n                                        {... (errors.gTotal && { error: true, helperText: errors.gTotal })}\r\n                                    />\r\n\r\n                                    <FormControl className={classes.formControl}\r\n                                        {...(errors.payMode && { error: true })}\r\n                                    >\r\n                                        <InputLabel >Payment Mode</InputLabel>\r\n                                        <Select\r\n                                            className=\"form-ctr\"\r\n                                            name=\"payMode\"\r\n                                            label=\"Select Payment Mode\"\r\n                                            value={values.payMode}\r\n                                            onChange={handleInputChange}\r\n                                            variant=\"outlined\"\r\n\r\n\r\n                                        >\r\n                                            {/* <MenuItem value=\"\">Select Category</MenuItem>\r\n                                            {\r\n                                                // props.categoryList.map((record, index) => {\r\n                                                //     return (\r\n                                                //         <MenuItem value={record.id}>{record.name}</MenuItem>\r\n\r\n                                                //     )\r\n                                                // })\r\n\r\n                                            } */}\r\n                                            <MenuItem value={\"Mpesa\"}>Mpesa</MenuItem>\r\n                                            <MenuItem value={\"Cash\"}>Cash</MenuItem>\r\n                                            <MenuItem value={\"Bank\"}>Bank</MenuItem>\r\n                                        </Select>\r\n                                        {errors.payMode && <FormHelperText>{errors.payMode}</FormHelperText>}\r\n                                    </FormControl>\r\n\r\n                                    <TextField className=\"form-ctr\" name=\"amntPaid\" label=\"Amount Paid\" value={gTotal}\r\n                                        onChange={handleInputChange}\r\n                                        variant=\"outlined\"\r\n\r\n\r\n                                        {... (errors.amntPaid && { error: true, helperText: errors.amntPaid })}\r\n                                    />\r\n                                    <TextField className=\"form-ctr\" name=\"refNo\" label=\"Refference No/Mpesa Reciept No\" value={values.refNo}\r\n                                        onChange={handleInputChange}\r\n                                        variant=\"outlined\"\r\n\r\n                                        {... (errors.refNo && { error: true, helperText: errors.refNo })}\r\n\r\n                                    />\r\n                                    {/* <TextField className=\"form-ctr\" name=\"change\" label=\"Change\" value={values.change}\r\n                                        onChange={handleInputChange}\r\n                                        variant=\"outlined\"\r\n\r\n\r\n                                        {... (errors.change && { error: true, helperText: errors.change })}\r\n                                    /> */}\r\n\r\n                                    <div className=\"card-footer\">\r\n                                        <div>\r\n                                            <button variant=\"contained\" type=\"submit\" className=\"btn btn-primary\"  >Pay</button>\r\n                                            {/* <button variant=\"contained\"\r\n                                                className=\"btn btn-secondary\"\r\n                                                style={{ marginLeft: 3 }}>Reset</button> */}\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </form>\r\n                                <div className=\"card-footer\">\r\n                                    <div>\r\n                                        <button variant=\"contained\" className=\"btn btn-primary\" onClick={() => { setOpenIPopup(true); }} >Print Invoice</button>\r\n                                        <button variant=\"contained\" className=\"btn btn-primary\" style={{ marginLeft: 5 }} onClick={() => { setOpenDlPopup(true); }}>Print Delivery Note</button>\r\n\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            {/* /.card */}\r\n                        </div>\r\n                        {/*/.col (left) */}\r\n                        {/* right column */}\r\n                        <div className=\"col-md-6\">\r\n                        </div>\r\n                        {/*/.col (right) */}\r\n                        {/* <div> */}\r\n                        {/* setOpenIPopup(true) */}\r\n                        {/* <button variant=\"contained\" className=\"btn btn-primary\" onClick={() => { setOpenIPopup(true); }} >Invoice</button> */}\r\n                        {/* </div> */}\r\n                    </div>\r\n                    {/* /.row */}\r\n                </div>{/* /.container-fluid */}\r\n\r\n\r\n            </section>\r\n        </>\r\n\r\n\r\n\r\n    );\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    addStaffList: state.addStaff.list,\r\n    storesList: state.stores.list,\r\n    userLevelList: state.userLevel.list,\r\n    suppliersList: state.suppliers.list,\r\n    productsList: state.products.list,\r\n    storeProductsList: state.storeProducts.list,\r\n    stockInList: state.stockIns.list,\r\n    storeIdNProductIdList: state.storeProducts.list,\r\n    salesList: state.cashSale.list,\r\n    companyDataList: state.companyData.list,\r\n    depositList: state.deposit.list,\r\n    categoryList: state.category.list,\r\n    customersList: state.customers.list,\r\n    taxList: state.tax.list\r\n})\r\n\r\n\r\n\r\nconst mapActionToProps = {\r\n    createStockIns: stockInActions.createStockIn,\r\n    createStoreProduct: storeProductActions.createStoreProduct,\r\n    updateStockIn: stockInActions.updateStockIn,\r\n    updateStoreProducts: storeProductActions.updateStoreProducts,\r\n    fetchAllStores: storeActions.fetchAllStore,\r\n    fetchAllUserLevel: userLevelActions.fetchAllUserLevel,\r\n    fetchAllSuppliers: supplierActions.fetchAllSupplier,\r\n    updateStockInHand: productActions.updateStockInHand,\r\n    fetchAllProducts: productActions.fetchAllProduct,\r\n    fetchAllStoreProduct: storeProductActions.fetchAllStoreProducts,\r\n    fetchAllStockIn: stockInActions.fetchAllStockIn,\r\n    fetchByStoreIdNProductId: storeProductActions.fetchByStoreIdNProductId,\r\n    updateProducts: productActions.updateProduct,\r\n    createCashSale: cashSalesActions.createCashSaleTransaction,\r\n    createCashSaleDetails: cashSalesActions.createCashSaleTransactionDetail,\r\n    fetchAllTransactions: cashSalesActions.fetchAllTransactions,\r\n    fetchAllCompanyData: companyDataActions.fetchAllCompanyData,\r\n    fetchAllDeposit: Dactions.fetchAllDeposit,\r\n    fetchAllCategory: categActions.fetchAllCategory,\r\n    fetchAllCustomers: customerActions.fetchAllCustomer,\r\n    fetchAllTaxes: TActions.fetchAllTaxes\r\n}\r\nexport default connect(mapStateToProps, mapActionToProps)(withStyles(styles)(MakeASale));\r\n\r\n"],"sourceRoot":""}