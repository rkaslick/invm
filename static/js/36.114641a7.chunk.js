(this.webpackJsonpInvmogul=this.webpackJsonpInvmogul||[]).push([[36],{1013:function(e,t,a){"use strict";a.r(t);var r=a(17),c=a(9),s=a(371),n=a(1214),i=a(1215),o=a(1217),l=a(952),d=a(953),u=a(15),j=a(0),b=a(105),p=a(72),m=a(378),f=a(62),h=a(1216),O=a(964),x=a.n(O),g=a(374),v=a(383),I=a.n(v),P=a(647),y=a(1240),L=a(379),k=a.n(L),C=a(965),N=a.n(C),T=a(141),z=a(236),S=a(233),A=a(2),H=["classes"],w=[{id:"productId",label:"Product Id"},{id:"name",label:"Name"},{id:"description",label:"Description"},{id:"size",label:"Size"},{id:"stockInHand",label:"StockInHand"},{id:"Actions",label:"Actions",disableSorting:!0}],F={fetchAllProducts:b.d,deleteProduct:b.b};t.default=Object(p.b)((function(e){return{productsList:e.products.list}}),F)(Object(u.a)((function(e){return{paper:{margin:e.spacing(-8.9),padding:e.spacing(6)},searchInput:{width:"75%"},newButton:{position:"absolute",right:"10px "}}}))((function(e){var t=e.classes,a=Object(c.a)(e,H),u=Object(j.useState)({fn:function(e){return e}}),b=Object(r.a)(u,2),p=b[0],O=b[1],v=Object(j.useState)(!1),L=Object(r.a)(v,2),C=L[0],F=L[1],q=Object(j.useState)(0),M=Object(r.a)(q,2),D=M[0],B=M[1],R=Object(T.useToasts)().addToast,E=Object(j.useState)({isOpen:!1,message:"",type:""}),V=E.notify,_=E.setNotify,J=Object(j.useState)(!1),W=Object(r.a)(J,2),G=W[0],K=W[1],Q=Object(j.useState)(!1),U=Object(r.a)(Q,2),X=(U[0],U[1],function(){R("Record was deleted succesffuly",{appearance:"error"}),R("Record was deleted succesffuly",{appearance:"error"}),R("Record was deleted succesffuly",{appearance:"error"}),a.fetchAllProducts()});Object(j.useEffect)((function(){a.fetchAllProducts()}),[]);var Y=Object(m.a)(a.productsList,w,p),Z=Y.TblContainer,$=Y.TblHead,ee=Y.TblPagination,te=Y.recordsAfterPagingAndSorting;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(g.a,{title:"Products List",icon:Object(A.jsx)(I.a,{fontSize:"large"})}),",",Object(A.jsxs)(s.a,{className:t.paper,elevation:3,children:[Object(A.jsxs)(n.a,{children:[Object(A.jsx)(f.a.Input,{className:t.searchInput,label:"Search Products",InputProps:{startAdornment:Object(A.jsx)(i.a,{position:"start",children:Object(A.jsx)(h.a,{})})},onChange:function(e){var t=e.target;O({fn:function(e){return""==t.value?e:e.filter((function(e){return e.productId.toLowerCase().includes(t.value.toLowerCase())+e.name.toLowerCase().includes(t.value.toLowerCase())+e.description.toLowerCase().includes(t.value.toLowerCase())+e.size.toLowerCase().includes(t.value.toLowerCase())}))}})}}),Object(A.jsx)(f.a.Button,{text:"Add New",variant:"outlined",startIcon:Object(A.jsx)(x.a,{}),className:t.newButton,onClick:function(){F(!0),B(0)}})]}),Object(A.jsxs)("table",{class:"table .table-responsive{-sm|-md|-lg|-xl|-xxl} table-hover ",children:[Object(A.jsx)("thead",{}),Object(A.jsx)("tbody",{children:Object(A.jsxs)(Z,{children:[Object(A.jsx)($,{}),Object(A.jsx)(o.a,{children:te().map((function(e,t){return Object(A.jsxs)(l.a,{hover:!0,children:[Object(A.jsx)(d.a,{children:e.productId}),Object(A.jsx)(d.a,{children:e.name}),Object(A.jsx)(d.a,{children:e.description}),Object(A.jsxs)(d.a,{children:[e.size," "]}),Object(A.jsxs)(d.a,{children:[e.stockInHand," "]}),Object(A.jsxs)(d.a,{children:[Object(A.jsx)(f.a.ActionButton,{color:"primary",onClick:function(){!function(e){B(e),F(!0)}(e.productId)},children:Object(A.jsx)(k.a,{fontSize:"small"})}),Object(A.jsx)(f.a.ActionButton,{color:"secondary",onClick:function(){K(!0),K({onConfirm:function(){var t;t=e.productId,a.deleteProduct(t,X),K(!1)}})},children:Object(A.jsx)(N.a,{fontSize:"small"})})]})]},t)}))})]})})]}),Object(A.jsx)(ee,{})]}),Object(A.jsx)(P.a,{title:"Stores Form",openPopup:C,setOpenPopup:F,children:Object(A.jsx)(y.a,{currentProductId:D,setcurrentProductId:B,openPopup:C,setOpenPopup:F})}),Object(A.jsx)(z.a,{notify:V,setNotify:_}),Object(A.jsx)(S.a,{title:"Are you sure you want to delete this record?",subTitle:"This operation can't be reversed",confirmDialog:G,setConfirmDialog:K})]})})))},1240:function(e,t,a){"use strict";var r=a(17),c=a(4),s=a(9),n=a(0),i=a(1206),o=a(945),l=a(946),d=a(956),u=a(1225),j=a(949),b=a(15),p=a(235),m=a(72),f=a(196),h=a(105),O=a(142),x=a(141),g=(a(646),a(145)),v=a(2),I=["classes"],P={productId:"",name:"",description:"",size:"",categoryId:"",buyingPrice:"",sellingPrice:"",reorderLevel:"",stockInHand:"",markup:"",discountLimit:"",taxId:"",storeId:2},y={fetchAllProducts:h.d,deleteProduct:h.b,fetchAllCategory:f.d,createProducts:h.c,updateProducts:h.e,fetchAllTaxes:g.d,fetchAllStores:O.d};t.a=Object(m.b)((function(e){return{productsList:e.products.list,categoryList:e.category.list,taxList:e.tax.list,storesList:e.stores.list}}),y)(Object(b.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),minWidth:230}},formControl:{margin:e.spacing(1),minWidth:230},smMargin:{margin:e.spacing(1)}}}))((function(e){var t=e.classes,a=Object(s.a)(e,I),b=Object(x.useToasts)().addToast,m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=Object(c.a)({},y);if("name"in e&&(t.name=e.name?"":"This field is required"),"description"in e&&(t.description=e.description?"":"This field is required"),"size"in e&&(t.size=e.size?"":"This field is required"),"categoryId"in e&&(t.categoryId=e.categoryId?"":"This field is required"),"stockInHand"in e&&(t.stockInHand=e.stockInHand?"":"This field is required"),"buyingPrice"in e&&(t.buyingPrice=e.buyingPrice?"":"This field is required"),"markup"in e&&(t.markup=e.markup?"":"This field is required"),"reorderLevel"in e&&(t.reorderLevel=e.reorderLevel?"":"This field is required"),L(Object(c.a)({},t)),e==O)return Object.values(t).every((function(e){return""==e}))},f=Object(p.a)(P,m,a.setCurrentProductId),h=Object(r.a)(f,6),O=h[0],g=h[1],y=h[2],L=h[3],k=h[4],C=h[5];Object(n.useEffect)((function(){0!=a.currentProductId&&g(Object(c.a)({},a.productsList.find((function(e){return e.productId==a.currentProductId})))),L({}),a.fetchAllProducts(),a.fetchAllCategory(),a.fetchAllTaxes()}),[a.currentProductId]);return Object(v.jsx)("section",{className:"content",children:Object(v.jsx)("div",{className:"container-fluid",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-12",children:Object(v.jsxs)("div",{className:"card card-primary",children:[Object(v.jsx)("div",{className:"card-header",children:Object(v.jsxs)("h4",{className:"card-title",children:["Add Products",Object(v.jsx)("small",{children:" "})]})}),Object(v.jsxs)("form",{id:"quickForm",autoComplete:"off",noValidate:!0,className:t.root,onSubmit:function(e){if(e.preventDefault(),m()){var t=function(){b("Product data saved succeffuly",{appearance:"success"}),b("Product data saved succeffuly",{appearance:"success"}),b("Product data saved succeffuly",{appearance:"success"}),a.fetchAllProducts(),C()};0==a.currentProductId?a.createProducts({name:O.name,description:O.description,size:O.size,categoryId:parseInt(O.categoryId),stockInHand:parseInt(O.stockInHand),reorderLevel:parseInt(O.reorderLevel),buyingPrice:parseFloat(O.buyingPrice),markup:parseFloat(O.markup),discountLimit:parseFloat(O.discountLimit),sellingPrice:parseFloat(O.sellingPrice),taxId:O.taxId},t):a.updateProducts(a.currentProductId,{name:O.name,description:O.description,size:O.size,categoryId:parseInt(O.categoryId),stockInHand:parseInt(O.stockInHand),reorderLevel:parseInt(O.reorderLevel),buyingPrice:parseFloat(O.buyingPrice),markup:parseFloat(O.markup),discountLimit:parseFloat(O.discountLimit),sellingPrice:parseFloat(O.sellingPrice),taxId:O.taxId},t),1==a.openPopup&&a.setOpenPopup(!1)}},children:[Object(v.jsx)(i.a,Object(c.a)({className:"form-ctr",id:"standard-basic",type:"text",name:"name",label:"Product Name",value:O.name,onChange:k},y.name&&{error:!0,helperText:y.name})),Object(v.jsx)(i.a,Object(c.a)({className:"form-ctr",name:"description",label:"Description",value:O.description,onChange:k},y.description&&{error:!0,helperText:y.description})),Object(v.jsx)(i.a,Object(c.a)({className:"form-ctr",name:"size",label:"Size",value:O.size,onChange:k},y.size&&{error:!0,helperText:y.size})),Object(v.jsxs)(o.a,Object(c.a)(Object(c.a)({className:t.formControl},y.categoryId&&{error:!0}),{},{children:[Object(v.jsx)(l.a,{children:"Category"}),Object(v.jsxs)(d.a,{className:"form-ctr",name:"categoryId",label:"category",value:O.categoryId,onChange:k,children:[Object(v.jsx)(u.a,{value:"",children:"Select Category"}),a.categoryList.map((function(e,t){return Object(v.jsx)(u.a,{value:e.id,children:e.name})}))]}),y.categoryId&&Object(v.jsx)(j.a,{children:y.categoryId})]})),Object(v.jsx)(i.a,Object(c.a)({className:"form-ctr",id:"standard-basic",type:"text",name:"stockInHand",label:"Stock In Hand",value:O.stockInHand,onChange:k},y.stockInHand&&{error:!0,helperText:y.stockInHand})),Object(v.jsx)(i.a,Object(c.a)({className:"form-ctr",id:"standard-basic",type:"text",name:"reorderLevel",label:"Re-order Level",value:O.reorderLevel,onChange:k},y.reorderLevel&&{error:!0,helperText:y.reorderLevel})),Object(v.jsx)(i.a,Object(c.a)({className:"form-ctr",id:"standard-basic",type:"text",name:"buyingPrice",label:"Buying Price",value:O.buyingPrice,onChange:k},y.buyingPrice&&{error:!0,helperText:y.buyingPrice})),Object(v.jsx)(i.a,Object(c.a)({className:"form-ctr",id:"standard-basic",type:"text",name:"markup",label:"Markup",value:O.markup,onChange:function(e){console.log(e.target.value);var t=parseFloat(e.target.value),a=parseFloat(O.buyingPrice),r=a+t/100*a,s=10*Math.ceil(r/10);O.sellingPrice=s,g(Object(c.a)(Object(c.a)({},O),{},{sellingPrice:O.sellingPrice})),k(e)}},y.markup&&{error:!0,helperText:y.markup})),Object(v.jsx)(i.a,Object(c.a)({className:"form-ctr",id:"standard-basic",type:"text",name:"sellingPrice",label:"Selling Price",value:O.sellingPrice,onChange:k},y.sellingPrice&&{error:!0,helperText:y.sellingPrice})),Object(v.jsx)(i.a,Object(c.a)({className:"form-ctr",id:"standard-basic",type:"text",name:"discountLimit",label:"Discount Limit ",value:O.discountLimit,onChange:k},y.discountLimit&&{error:!0,helperText:y.discountLimit})),Object(v.jsxs)(o.a,{className:t.formControl,children:[Object(v.jsx)(l.a,{children:"Tax"}),Object(v.jsxs)(d.a,{className:"form-ctr",name:"taxId",label:"Tax",value:O.taxId,onChange:k,children:[Object(v.jsx)(u.a,{value:"",children:"Select Tax"}),a.taxList.map((function(e,t){return Object(v.jsxs)(u.a,{value:e.taxId,children:[e.rate,"%"]})}))]})]}),Object(v.jsx)("div",{className:"card-footer",children:Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"}),Object(v.jsx)("button",{variant:"contained",className:"btn btn-secondary",onClick:C,style:{marginLeft:3},children:"Reset"})]})})]})]})}),Object(v.jsx)("div",{className:"col-md-6"})]})})})})))},964:function(e,t,a){"use strict";var r=a(165),c=a(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=c(a(0)),n=(0,r(a(167)).default)(s.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=n},965:function(e,t,a){"use strict";var r=a(165),c=a(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=c(a(0)),n=(0,r(a(167)).default)(s.createElement("path",{d:"M6 21h12V7H6v14zm2.46-9.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteForeverSharp");t.default=n}}]);
//# sourceMappingURL=36.114641a7.chunk.js.map