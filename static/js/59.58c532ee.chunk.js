(this.webpackJsonpInvmogul=this.webpackJsonpInvmogul||[]).push([[59],{979:function(e,t,r){"use strict";r.r(t);var c=r(18),a=r(4),n=r(17),i=r(9),s=r(0),o=r(1218),l=r(945),d=r(946),u=r(956),p=r(1225),j=r(949),b=r(1206),h=r(15),O=r(235),m=r(72),f=(r(112),r(142)),I=r(144),x=r(147),v=r(105),g=r(101),S=r(91),P=r(141),y=(r(646),r(1215)),L=r(286),N=r.n(L),k=r(1220),C=r(2),T=["classes"],w={productId:"",supplierId:"",name:"",quantity:"",buyingPrice:"",sellingPrice:"",customPrice:!0,reorderLevel:"",stockInHand:"",mainstorePrice:!0,category:"",size:"",description:"",userId:window.userId.toString(),type:"Normal",storeId:""},q={createStockIns:S.c,createStoreProduct:g.b,updateStockIn:S.e,updateStoreProducts:g.e,fetchAllStores:f.d,fetchAllUserLevel:I.d,fetchAllSuppliers:x.d,updateStockInHand:v.f,fetchAllProducts:v.d,fetchAllStoreProduct:g.c,fetchAllStockIn:S.d,fetchByStoreIdNProductId:g.d,updateProducts:v.e};t.default=Object(m.b)((function(e){return{addStaffList:e.addStaff.list,storesList:e.stores.list,userLevelList:e.userLevel.list,suppliersList:e.suppliers.list,productsList:e.products.list,storeProductsList:e.storeProducts.list,stockInList:e.stockIns.list,storeIdNProductIdList:e.storeProducts.list}}),q)(Object(h.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),minWidth:230}},formControl:{margin:e.spacing(1),minWidth:230},smMargin:{margin:e.spacing(1)}}}))((function(e){var t=e.classes,r=Object(i.a)(e,T),h=Object(P.useToasts)().addToast,m=Object(s.useState)(0),f=Object(n.a)(m,2),I=(f[0],f[1]),x=Object(s.useState)(0),v=Object(n.a)(x,2),g=v[0],S=v[1],L=Object(s.useState)({}),q=Object(n.a)(L,2),A=(q[0],q[1]),H=Object(s.useState)(null),z=Object(n.a)(H,2),D=z[0],F=z[1],R=Object(s.useState)(0),B=Object(n.a)(R,2),J=(B[0],B[1],Object(s.useState)(0)),M=Object(n.a)(J,2),W=(M[0],M[1]),E=Object(s.useState)(0),Q=Object(n.a)(E,2),U=(Q[0],Q[1]),V=Object(s.useState)(0),G=Object(n.a)(V,2),K=G[0],X=(G[1],Object(s.useState)(0)),Y=Object(n.a)(X,2),Z=Y[0],$=Y[1],_=Object(s.useState)([]),ee=Object(n.a)(_,2),te=ee[0],re=ee[1],ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=Object(a.a)({},oe);if("productId"in e&&(t.productId=e.productId?"":"This field is required"),"supplierId"in e&&(t.supplierId=e.supplierId?"":"This field is required"),"quantity"in e&&(t.quantity=e.quantity?"":"This field is required",U(e.quantity)),"stockInHand"in e&&W(e.stockInHand),"size"in e&&(t.size=e.size?"":"This field is required"),"reorderLevel"in e&&(t.reorderLevel=e.reorderLevel?"":"This field is required"),"description"in e&&(t.description=e.description?"":"This field is required"),"buyingPrice"in e&&(t.buyingPrice=e.buyingPrice?"":"This field is required"),"sellingPrice"in e&&(t.sellingPrice=e.sellingPrice?"":"This field is required"),"storeId"in e&&(t.storeId=e.storeId?"":"This field is required"),le(Object(a.a)({},t)),e==ie)return Object.values(t).every((function(e){return""==e}))},ae=Object(O.a)(w,ce,r.setCurrentId),ne=Object(n.a)(ae,6),ie=ne[0],se=ne[1],oe=ne[2],le=ne[3],de=ne[4],ue=ne[5],pe=function(e){I(e),S(e)};return Object(s.useEffect)((function(){r.fetchAllProducts(),0==r.currentId&&0==g||se(Object(a.a)({},r.productsList.find((function(e){return e.productId==g})))),le({}),r.fetchAllStores(),r.fetchAllSuppliers(),r.fetchAllProducts(),r.fetchAllStoreProduct(),r.fetchAllStockIn()}),[g]),Object(C.jsx)("section",{className:"content",children:Object(C.jsx)("div",{className:"container-fluid",children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-md-12",children:Object(C.jsxs)("div",{className:"card card-primary",children:[Object(C.jsx)("div",{className:"card-header",children:Object(C.jsxs)("h4",{className:"card-title",children:["Add Stock  ",Object(C.jsx)("small",{children:" "})]})}),Object(C.jsxs)("form",{id:"quickForm",autoComplete:"off",noValidate:!0,className:t.root,onSubmit:function(e){if(e.preventDefault(),ce()){var t=parseInt(ie.stockInHand)+parseInt(ie.quantity);ie.stockInHand=t;var c=function(){ue(),h("StockIn data saved succeffuly",{appearance:"success"}),h("StockIn data saved succeffuly",{appearance:"success"}),h("StockIn data saved succeffuly",{appearance:"success"}),r.fetchAllStockIn(),A(r.productsList.clearField),console.log("open = true")};0==r.currentId?(ie.type="Normal",r.createStockIns(ie),r.updateStockInHand(g,ie,c)):(r.updateStockIn(r.currentId,ie),r.updateStockInHand(r.currentProductId,K,c)),1==r.openPopup&&r.setOpenPopup(!1)}},children:[Object(C.jsxs)(o.a,{container:!0,children:[Object(C.jsxs)(o.a,{item:!0,xs:2.5,children:[Object(C.jsxs)(l.a,Object(a.a)(Object(a.a)({className:t.formControl},oe.storeId&&{error:!0}),{},{children:[Object(C.jsx)(d.a,{children:"Store"}),Object(C.jsxs)(u.a,{className:"form-ctr",name:"storeId",label:" Store",value:ie.storeId,onChange:de,variant:"outlined",children:[Object(C.jsx)(p.a,{value:"",children:"Select Store"}),r.storesList.map((function(e,t){return Object(C.jsx)(p.a,{value:e.storeId,children:e.name})}))]}),oe.storeId&&Object(C.jsx)(j.a,{children:oe.storeId})]})),Object(C.jsx)(k.a,{className:"form-ctr",sx:{width:30},options:r.suppliersList,autoHighlight:!0,getOptionLabel:function(e){return e.name},onChange:function(e,t){F(t.id),console.log(t.id)},renderInput:function(e){return Object(C.jsx)(b.a,Object(a.a)(Object(a.a)({style:{width:"10%"}},e),{},{label:"Choose a supplier",name:"supplierId",inputProps:Object(a.a)(Object(a.a)({},e.inputProps),{},{autoComplete:"new-password"}),variant:"outlined",className:"form-ctr",id:"input-with-icon-textfield",value:ie.supplierId=D,onChange:de},oe.supplierId&&{error:!0,helperText:oe.supplierId}))}})]}),Object(C.jsx)(o.a,{item:!0,xs:2.5,children:Object(C.jsx)(k.a,{className:"form-ctr",sx:{width:30},options:r.productsList,autoHighlight:!0,getOptionLabel:function(e){return e.name},onSelect:de,onChange:function(e,t){var a;$(t.productId),pe(t.productId),a=t.name,re(Object(c.a)(r.productsList.filter((function(e){return e.name===a}))))},renderInput:function(e){return Object(C.jsx)(b.a,Object(a.a)(Object(a.a)({style:{width:"10%"}},e),{},{label:"Select a product",name:"productId",inputProps:Object(a.a)(Object(a.a)({},e.inputProps),{},{autoComplete:"new-password"}),variant:"outlined",className:"form-ctr",id:"input-with-icon-textfield",value:ie.productId=Z,onChange:de},oe.productId&&{error:!0,helperText:oe.productId}))}})}),Object(C.jsx)(o.a,{children:Object(C.jsx)(k.a,{className:"form-ctr",sx:{width:30},options:te,autoHighlight:!0,getOptionLabel:function(e){return e.size},onSelect:de,onChange:function(e,t){$(t.productId),pe(t.productId)},renderInput:function(e){return Object(C.jsx)(b.a,Object(a.a)(Object(a.a)({style:{width:"10%"}},e),{},{label:"Select a Size",name:"productId",inputProps:Object(a.a)(Object(a.a)({},e.inputProps),{},{autoComplete:"new-password"}),variant:"outlined",className:"form-ctr",id:"input-with-icon-textfield",value:ie.productId=Z,onChange:de},oe.size&&{error:!0,helperText:oe.size}))}})})]}),Object(C.jsx)(b.a,Object(a.a)({className:"form-ctr",id:"input-with-icon-textfield",variant:"outlined",type:"text",name:"ProductId",label:"Product Code",InputLabelProps:{startAdornment:Object(C.jsx)(y.a,{position:"start",children:Object(C.jsx)(N.a,{})})},value:ie.productId,onChange:de},oe.productId&&{error:!0,helperText:oe.productId})),Object(C.jsx)(b.a,Object(a.a)({className:"form-ctr",id:"input-with-icon-textfield",variant:"outlined",type:"text",name:"Description",label:"Description",InputLabelProps:{startAdornment:Object(C.jsx)(y.a,{position:"start",children:Object(C.jsx)(N.a,{})})},value:ie.description,onChange:de},oe.description&&{error:!0,helperText:oe.description})),Object(C.jsx)(b.a,Object(a.a)({className:"form-ctr",name:"size",label:"Size",value:ie.size,onChange:de,variant:"outlined"},oe.size&&{error:!0,helperText:oe.size})),Object(C.jsx)(b.a,Object(a.a)({className:"form-ctr",name:"buyingPrice",label:"Buying Price",type:"buyingPrice",value:ie.buyingPrice,onChange:de,variant:"outlined"},oe.buyingPrice&&{error:!0,helperText:oe.buyingPrice})),Object(C.jsx)(b.a,Object(a.a)({className:"form-ctr",name:"sellingPrice",label:"Retail Price",value:ie.sellingPrice,onChange:de,variant:"outlined"},oe.sellingPrice&&{error:!0,helperText:oe.sellingPrice})),Object(C.jsx)(b.a,Object(a.a)({className:"form-ctr",name:"stockInHand",label:"Stock In Hand",value:ie.stockInHand,onChange:de,variant:"outlined",on:!0},oe.stockInHand&&{error:!0,helperText:oe.stockInHand})),Object(C.jsx)(b.a,Object(a.a)({className:"form-ctr",name:"reorderLevel",label:"Re-order Level",value:ie.reorderLevel,onChange:de,variant:"outlined"},oe.reorderLevel&&{error:!0,helperText:oe.reorderLevel})),Object(C.jsx)(b.a,Object(a.a)({className:"form-ctr",name:"quantity",label:"Quantity",value:ie.quantity,onChange:de,variant:"outlined"},oe.quantity&&{error:!0,helperText:oe.quantity})),Object(C.jsx)("div",{className:"card-footer",children:Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{variant:"contained",type:"submit",className:"btn btn-primary",children:"Save"}),Object(C.jsx)("button",{variant:"contained",className:"btn btn-secondary",onClick:ue,style:{marginLeft:3},children:"Reset"})]})})]})]})}),Object(C.jsx)("div",{className:"col-md-6"})]})})})})))}}]);
//# sourceMappingURL=59.58c532ee.chunk.js.map