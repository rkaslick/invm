(this.webpackJsonpInvmogul=this.webpackJsonpInvmogul||[]).push([[52],{980:function(e,a,t){"use strict";t.r(a);var r=t(17),s=t(4),i=t(9),n=t(0),c=t(1206),o=t(15),l=t(235),d=t(72),m=t(125),b=t(141),u=(t(646),t(2)),p=["classes"],j="./images/icon-placeholder-5.jpg",h={name:"",logo:"",phone:"",address:"",country:"",krapin:"",email:"",registrationNo:"",website:"",imageName:"",imageSrc:j,imageFile:null},f={fetchAllCompanyData:m.d,deleteCompanyData:m.b,createCompanyData:m.c,updateCompanyData:m.e};a.default=Object(d.b)((function(e){return{companyDataList:e.companyData.list}}),f)(Object(o.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),minWidth:230}},formControl:{margin:e.spacing(1),minWidth:230},smMargin:{margin:e.spacing(1)}}}))((function(e){var a=e.classes,t=Object(i.a)(e,p),o=Object(b.useToasts)().addToast,d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=Object(s.a)({},x);if("name"in e&&(a.name=e.name?"":"This field is required"),"phone"in e&&(a.phone=e.phone?"":"This field is required"),"address"in e&&(a.address=e.address?"":"This field is required"),"country"in e&&(a.country=e.country?"":"This field is required"),"krapin"in e&&(a.krapin=e.krapin?"":"This field is required"),"email"in e&&(a.email=e.email?"":"This field is required"),"website"in e&&(a.website=e.website?"":"This field is required"),"registrationNo"in e&&(a.registrationNo=e.registrationNo?"":"This field is required"),y(Object(s.a)({},a)),e==g)return Object.values(a).every((function(e){return""==e}))},m=Object(l.a)(h,d,t.setCurrentId),f=Object(r.a)(m,6),g=f[0],O=f[1],x=f[2],y=f[3],N=f[4],v=f[5];return Object(n.useEffect)((function(){t.fetchAllCompanyData(),0!=t.currentId&&O(Object(s.a)({},t.companyDataList.find((function(e){return e.id==t.currentId})))),y({})}),[t.currentId]),Object(u.jsx)("section",{className:"content",children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-md-12",children:Object(u.jsxs)("div",{className:"card card-primary",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsxs)("h4",{className:"card-title",children:["Add Company Data",Object(u.jsx)("small",{children:" "})]})}),Object(u.jsxs)("form",{id:"quickForm",autoComplete:"off",noValidate:!0,className:a.root,onSubmit:function(e){if(e.preventDefault(),d()){var a=function(){o("Company data saved succeffuly",{appearance:"success"}),o("Company data saved succeffuly",{appearance:"success"}),o("Company data saved succeffuly",{appearance:"success"}),t.fetchAllCompanyData(),v()};0==t.currentId?(g.logo=g.imageSrc,t.createCompanyData(g,a)):(g.logo=g.imageSrc,console.log(g.logo),t.updateCompanyData(t.currentId,g,a)),1==t.openPopup&&t.setOpenPopup(!1)}},children:[Object(u.jsx)(c.a,Object(s.a)({className:"form-ctr",id:"standard-basic",type:"text",name:"name",label:"Name",value:g.name,onChange:N},x.name&&{error:!0,helperText:x.name})),Object(u.jsx)(c.a,Object(s.a)({className:"form-ctr",id:"standard-basic",type:"text",name:"phone",label:"Phone",value:g.phone,onChange:N},x.phone&&{error:!0,helperText:x.phone})),Object(u.jsx)(c.a,Object(s.a)({className:"form-ctr",id:"standard-basic",type:"text",name:"address",label:"Address",value:g.address,onChange:N},x.address&&{error:!0,helperText:x.address})),Object(u.jsx)(c.a,Object(s.a)({className:"form-ctr",id:"standard-basic",type:"text",name:"country",label:"Country",value:g.country,onChange:N},x.country&&{error:!0,helperText:x.country})),Object(u.jsx)(c.a,Object(s.a)({className:"form-ctr",id:"standard-basic",type:"text",name:"krapin",label:"KRA PIN",value:g.krapin,onChange:N},x.krapin&&{error:!0,helperText:x.krapin})),Object(u.jsx)(c.a,Object(s.a)({className:"form-ctr",id:"standard-basic",type:"text",name:"email",label:"Email",value:g.email,onChange:N},x.email&&{error:!0,helperText:x.email})),Object(u.jsx)(c.a,Object(s.a)({className:"form-ctr",id:"standard-basic",type:"text",name:"website",label:"Website",value:g.website,onChange:N},x.website&&{error:!0,helperText:x.website})),Object(u.jsx)(c.a,Object(s.a)({className:"form-ctr",id:"standard-basic",type:"text",name:"registrationNo",label:"Registration No",value:g.registrationNo,onChange:N},x.registrationNo&&{error:!0,helperText:x.registrationNo})),Object(u.jsxs)("div",{className:"form-ctr",children:[Object(u.jsx)("span",{children:"Company Logo"}),Object(u.jsx)("br",{}),Object(u.jsx)("img",{src:g.imageSrc,className:"card-img-top",style:{width:100,height:100}}),Object(u.jsx)("input",{type:"file",accept:"image/*",className:"form-control-file",onChange:function(e){if(e.target.files&&e.target.files[0]){var a=e.target.files[0],t=new FileReader;t.onload=function(e){O(Object(s.a)(Object(s.a)({},g),{},{imageFile:a,imageSrc:e.target.result}))},t.readAsDataURL(a)}else O(Object(s.a)(Object(s.a)({},g),{},{imageFile:null,imageSrc:j}))}})]}),Object(u.jsx)("div",{className:"card-footer",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"}),Object(u.jsx)("button",{variant:"contained",className:"btn btn-secondary",onClick:v,style:{marginLeft:3},children:"Reset"})]})})]})]})}),Object(u.jsx)("div",{className:"col-md-6"})]})})})})))}}]);
//# sourceMappingURL=52.91d4be82.chunk.js.map